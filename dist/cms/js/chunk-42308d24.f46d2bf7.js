(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42308d24"],{"1f8b":function(t,e,n){t.exports=n.p+"img/login.d814adb7.png"},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"8b48":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"h-screen flex w-full bg-img vx-row no-gutter items-center justify-center",attrs:{id:"page-login"}},[r("div",{staticClass:"vx-col sm:w-1/2 md:w-1/2 lg:w-3/4 xl:w-3/5 sm:m-0 m-4"},[r("vx-card",[r("div",{staticClass:"full-page-bg-color",attrs:{slot:"no-body"},slot:"no-body"},[r("div",{staticClass:"vx-row no-gutter justify-center items-center"},[r("div",{staticClass:"vx-col hidden lg:block lg:w-1/2"},[r("img",{staticClass:"mx-auto",attrs:{src:n("1f8b"),alt:"login"}})]),r("div",{staticClass:"vx-col sm:w-full md:w-full lg:w-1/2 d-theme-dark-bg"},[r("div",{staticClass:"p-8 login-tabs-container"},[r("div",{staticClass:"vx-card__title mb-4"},[r("h4",{staticClass:"mb-4"},[t._v("\n                  Login "+t._s(t.$store.state.selectedApp.projectId)+"\n                ")]),r("p",[t._v("Welcome back, please login to your account.")])]),r("div",[r("vs-input",{staticClass:"w-full",attrs:{name:"email","icon-no-border":"",icon:"icon icon-user","icon-pack":"feather","label-placeholder":"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("vs-input",{staticClass:"w-full my-6",attrs:{type:"password",name:"password","icon-no-border":"",icon:"icon icon-lock","icon-pack":"feather","label-placeholder":"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("span",{directives:[{name:"show",rawName:"v-show",value:t.err_msg,expression:"err_msg"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.err_msg))]),r("vs-button",{staticClass:"my-3 float-right",on:{click:t.attemptLogin}},[t._v("Login")])],1)])])])])])],1)])},a=[],o=(n("28a5"),n("a481"),n("6b54"),n("87b3"),n("d92a"),n("96cf"),n("3b8d")),i=n("e836"),s={computed:{projectId:function(){var t=this.$store.state.selectedApp;return t?t.projectId:null},app:function(){return this.projectId?this.$app(this.projectId):null},auth:function(){return this.app?this.app.auth():null}},data:function(){return{email:"",password:"",err_msg:""}},mounted:function(){var t=this,e=this.app.functions().httpsCallable("version");e().then((function(e){t.$store.commit("setFunctionAvailable",!0),t.$store.commit("setFunctionVersion",e.data)})).catch((function(){t.$store.commit("setFunctionAvailable",!1),console.log("functions is not available")}))},methods:{attemptLogin:function(){var t=this;this.auth.signInWithEmailAndPassword(this.email,this.password).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var r,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.app.firestore(),a=n.user,o=r.collection("iris_user").doc(a.uid),e.next=5,o.get();case 5:if(s=e.sent,t.updateUser(a),s.exists){e.next=13;break}return c={name:a.displayName,email:a.email,phone:a.phoneNumber||"",profile_picture:a.photoURL||"",role_id:null},e.next=11,o.set(c).then((function(){t.$router.push("/dashboard")})).catch(i["a"].bind(t));case 11:e.next=14;break;case 13:t.$router.push("/dashboard");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"auth/user-not-found"==e.code?t.auth.createUserWithEmailAndPassword(t.email,t.password).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var r,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.app.firestore(),a=n.user,o=r.collection("iris_user").doc(a.uid),e.next=5,o.get();case 5:if(s=e.sent,t.updateUser(a),s.exists){e.next=13;break}return c={name:a.displayName,email:a.email,phone:a.phoneNumber||"",profile_picture:a.photoURL||"",role_id:null},e.next=11,o.set(c).then((function(){t.$router.push("/dashboard")})).catch(i["a"].bind(t));case 11:e.next=14;break;case 13:t.$router.push("/dashboard");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.err_msg=e.message})):t.err_msg=e.message}))},updateUser:function(t){var e=function(t){var e=function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,r,a,o,i;return a=2147483648&t,o=2147483648&e,n=1073741824&t,r=1073741824&e,i=(1073741823&t)+(1073741823&e),n&r?2147483648^i^a^o:n|r?1073741824&i?3221225472^i^a^o:1073741824^i^a^o:i^a^o}function r(t,e,n){return t&e|~t&n}function a(t,e,n){return t&n|e&~n}function o(t,e,n){return t^e^n}function i(t,e,n){return e^(t|~n)}function s(t,a,o,i,s,c,u){return t=n(t,n(n(r(a,o,i),s),u)),n(e(t,c),a)}function c(t,r,o,i,s,c,u){return t=n(t,n(n(a(r,o,i),s),u)),n(e(t,c),r)}function u(t,r,a,i,s,c,u){return t=n(t,n(n(o(r,a,i),s),u)),n(e(t,c),r)}function l(t,r,a,o,s,c,u){return t=n(t,n(n(i(r,a,o),s),u)),n(e(t,c),r)}function p(t){var e,n=t.length,r=n+8,a=(r-r%64)/64,o=16*(a+1),i=Array(o-1),s=0,c=0;while(c<n)e=(c-c%4)/4,s=c%4*8,i[e]=i[e]|t.charCodeAt(c)<<s,c++;return e=(c-c%4)/4,s=c%4*8,i[e]=i[e]|128<<s,i[o-2]=n<<3,i[o-1]=n>>>29,i}function d(t){var e,n,r="",a="";for(n=0;n<=3;n++)e=t>>>8*n&255,a="0"+e.toString(16),r+=a.substr(a.length-2,2);return r}function f(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}var h,m,g,v,b,w,x,C,_,y=Array(),k=7,$=12,j=17,A=22,U=5,F=9,L=14,R=20,N=4,S=11,E=16,I=23,P=6,O=10,W=15,J=21;for(t=f(t),y=p(t),w=1732584193,x=4023233417,C=2562383102,_=271733878,h=0;h<y.length;h+=16)m=w,g=x,v=C,b=_,w=s(w,x,C,_,y[h+0],k,3614090360),_=s(_,w,x,C,y[h+1],$,3905402710),C=s(C,_,w,x,y[h+2],j,606105819),x=s(x,C,_,w,y[h+3],A,3250441966),w=s(w,x,C,_,y[h+4],k,4118548399),_=s(_,w,x,C,y[h+5],$,1200080426),C=s(C,_,w,x,y[h+6],j,2821735955),x=s(x,C,_,w,y[h+7],A,4249261313),w=s(w,x,C,_,y[h+8],k,1770035416),_=s(_,w,x,C,y[h+9],$,2336552879),C=s(C,_,w,x,y[h+10],j,4294925233),x=s(x,C,_,w,y[h+11],A,2304563134),w=s(w,x,C,_,y[h+12],k,1804603682),_=s(_,w,x,C,y[h+13],$,4254626195),C=s(C,_,w,x,y[h+14],j,2792965006),x=s(x,C,_,w,y[h+15],A,1236535329),w=c(w,x,C,_,y[h+1],U,4129170786),_=c(_,w,x,C,y[h+6],F,3225465664),C=c(C,_,w,x,y[h+11],L,643717713),x=c(x,C,_,w,y[h+0],R,3921069994),w=c(w,x,C,_,y[h+5],U,3593408605),_=c(_,w,x,C,y[h+10],F,38016083),C=c(C,_,w,x,y[h+15],L,3634488961),x=c(x,C,_,w,y[h+4],R,3889429448),w=c(w,x,C,_,y[h+9],U,568446438),_=c(_,w,x,C,y[h+14],F,3275163606),C=c(C,_,w,x,y[h+3],L,4107603335),x=c(x,C,_,w,y[h+8],R,1163531501),w=c(w,x,C,_,y[h+13],U,2850285829),_=c(_,w,x,C,y[h+2],F,4243563512),C=c(C,_,w,x,y[h+7],L,1735328473),x=c(x,C,_,w,y[h+12],R,2368359562),w=u(w,x,C,_,y[h+5],N,4294588738),_=u(_,w,x,C,y[h+8],S,2272392833),C=u(C,_,w,x,y[h+11],E,1839030562),x=u(x,C,_,w,y[h+14],I,4259657740),w=u(w,x,C,_,y[h+1],N,2763975236),_=u(_,w,x,C,y[h+4],S,1272893353),C=u(C,_,w,x,y[h+7],E,4139469664),x=u(x,C,_,w,y[h+10],I,3200236656),w=u(w,x,C,_,y[h+13],N,681279174),_=u(_,w,x,C,y[h+0],S,3936430074),C=u(C,_,w,x,y[h+3],E,3572445317),x=u(x,C,_,w,y[h+6],I,76029189),w=u(w,x,C,_,y[h+9],N,3654602809),_=u(_,w,x,C,y[h+12],S,3873151461),C=u(C,_,w,x,y[h+15],E,530742520),x=u(x,C,_,w,y[h+2],I,3299628645),w=l(w,x,C,_,y[h+0],P,4096336452),_=l(_,w,x,C,y[h+7],O,1126891415),C=l(C,_,w,x,y[h+14],W,2878612391),x=l(x,C,_,w,y[h+5],J,4237533241),w=l(w,x,C,_,y[h+12],P,1700485571),_=l(_,w,x,C,y[h+3],O,2399980690),C=l(C,_,w,x,y[h+10],W,4293915773),x=l(x,C,_,w,y[h+1],J,2240044497),w=l(w,x,C,_,y[h+8],P,1873313359),_=l(_,w,x,C,y[h+15],O,4264355552),C=l(C,_,w,x,y[h+6],W,2734768916),x=l(x,C,_,w,y[h+13],J,1309151649),w=l(w,x,C,_,y[h+4],P,4149444226),_=l(_,w,x,C,y[h+11],O,3174756917),C=l(C,_,w,x,y[h+2],W,718787259),x=l(x,C,_,w,y[h+9],J,3951481745),w=n(w,m),x=n(x,g),C=n(C,v),_=n(_,b);var D=d(w)+d(x)+d(C)+d(_);return D.toLowerCase()},n=n||80;return"https://www.gravatar.com/avatar/"+e(t)+".jpg?s="+n};this.$store.commit("UPDATE_USER_INFO",{uid:t.uid,displayName:t.displayName||t.email.split("@")[0],photoURL:t.photoURL||e(t.email)})}}},c=s,u=n("2877"),l=Object(u["a"])(c,r,a,!1,null,null,null);e["default"]=l.exports},d92a:function(t,e,n){var r=n("5ca1");r(r.P,"Function",{bind:n("f0c1")})},e836:function(t,e,n){"use strict";function r(t,e){t.code?this.$vs.notify({title:t.code,text:t.message,color:"danger",iconPack:"feather",icon:"icon-alert-circle",position:"bottom-center"}):this.$vs.notify({title:"Unexpected Error!",text:t.message,color:"danger",iconPack:"feather",icon:"icon-alert-circle",position:"bottom-center"}),console.log(t),"function"==typeof e&&e()}n.d(e,"a",(function(){return r}))},f0c1:function(t,e,n){"use strict";var r=n("d8e8"),a=n("d3f4"),o=n("31f4"),i=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var r=[],a=0;a<e;a++)r[a]="a["+a+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?c(e,r.length,r):o(e,r,t)};return a(e.prototype)&&(s.prototype=e.prototype),s}}}]);
//# sourceMappingURL=chunk-42308d24.f46d2bf7.js.map