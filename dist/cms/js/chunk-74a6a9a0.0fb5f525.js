(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a6a9a0"],{"055a":function(t,e,n){t.exports=n.p+"img/036-file.cb3e7e4f.svg"},"0c39":function(t,e,n){t.exports=n.p+"img/026-file.f67622a3.svg"},"0ce8":function(t,e,n){"use strict";n("6448")},"125b":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("2caf"),n("ac4d"),n("8a81"),n("1c4c"),n("6b54"),n("87b3");var i=n("75fc"),r=(n("ac6a"),n("5df3"),n("7f7f"),n("6d67"),n("96cf"),n("3b8d"));function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw s}}}}function a(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var a,o,c,u,f,d,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=h.length>2&&void 0!==h[2]?h[2]:{getDownloadUrl:!1,downloadCurrentFolder:!1},o=[],c=s(n),t.prev=3,c.s();case 5:if((u=c.n()).done){t.next=25;break}if(f=u.value,!f.selected&&!a.downloadCurrentFolder){t.next=23;break}if("file"!=f.type){t.next=12;break}o.push(f),t.next=23;break;case 12:return t.next=14,e.ref(f.fullPath).listAll().then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.prefixes.map((function(t){return{title:t.name,ref:t.fullPath,icon:"FolderIcon",expanded:!1,async:!0,selected:!0}})),i=n.map((function(t){return{selected:t.selected,filename:t.title,size:null,fullPath:t.ref,type:"folder"}})),t.next=4,Promise.all(e.items.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={fullPath:e.fullPath,filename:e.name,selected:!0,type:"file",size:null},!a.getDownloadUrl){t.next=5;break}return t.next=4,e.getDownloadURL();case 4:n.downloadUrl=t.sent;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:return s=t.sent,t.abrupt("return",i.concat(s));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 14:return d=t.sent,t.t0=o.push,t.t1=o,t.t2=i["a"],t.next=20,l(e,d,a);case 20:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4);case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t5=t["catch"](3),c.e(t.t5);case 30:return t.prev=30,c.f(),t.finish(30);case 33:return t.abrupt("return",o);case 34:case"end":return t.stop()}}),t,null,[[3,27,30,33]])}))),c.apply(this,arguments)}},"29ee":function(t,e,n){t.exports=n.p+"img/025-file.a103d55b.svg"},"2cf4":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-progress",{style:{visibility:t.isProgress?"visible":"hidden"},attrs:{percent:isFinite(t.progress)?t.progress:0,indeterminate:t.progress==1/0,color:"primary"}})},r=[],s=n("7618"),a=(n("d92a"),n("93ad")),o={name:"StorageProgress",data:function(){return{progress:0,isProgress:!1}},beforeDestroy:function(){a["a"].$off("file-manager-loading"),a["a"].$off("file-manager-loading-inc")},mounted:function(){a["a"].$on("file-manager-loading",function(t){if("object"==Object(s["a"])(t))this.isProgress="boolean"==typeof t.isProgress?t.isProgress:this.isProgress,this.progress=isFinite(t.progress)?t.progress:this.progress;else if("string"==typeof t)switch(t){case"on":this.isProgress=!0,this.progress=1/0;break;case"off":this.isProgress=!1,this.progress=0;break}}.bind(this)),a["a"].$on("file-manager-loading-inc",function(t){isFinite(t)&&(this.progress+=t)}.bind(this))}},l=o,c=n("2877"),u=Object(c["a"])(l,i,r,!1,null,null,null);e["a"]=u.exports},"2f79":function(t,e,n){t.exports=n.p+"img/034-file.bf5de557.svg"},3342:function(t,e,n){t.exports=n.p+"img/037-file.5b30da2f.svg"},"37ac":function(t,e,n){"use strict";n("f2d5")},"43cb":function(t,e,n){t.exports=n.p+"img/011-file.06bdebf9.svg"},"474c":function(t,e,n){t.exports=n.p+"img/050-file.8427fac8.svg"},"5f7d":function(t,e,n){t.exports=n.p+"img/002-file.ef816196.svg"},"60ac":function(t,e,n){t.exports=n.p+"img/010-file.2c3e7960.svg"},6448:function(t,e,n){},"736d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"flex-auto",attrs:{settings:t.settings},nativeOn:{contextmenu:function(e){e.preventDefault(),!t.dropmode&&t.$emit("contextmenu",e)},dragleave:function(e){t.dropmode=!1},drop:function(e){return e.preventDefault(),t.handleDrop(e)},dragenter:function(e){return e.preventDefault(),t.handleDragEnter(e)},dragover:function(e){return e.preventDefault(),t.handleDragOver(e)}}},[t.dropmode?n("transition",[n("div",{staticClass:"drop-zone"},[n("div",{staticClass:"inner-drop-zone flex justify-center"},[n("div",{staticClass:"m-auto"},[n("h5",[t._v("Upload Here")])])])])]):"grid"==t.mode?n("div",{staticClass:"flex-grow flex-1 flex flex-wrap not-selectable h-full justify-start justify-items-auto",staticStyle:{"background-color":"white","align-content":"flex-start"},on:{mouseup:function(e){e.stopPropagation(),t.mouseUpEvent=e},mousedown:function(e){e.stopPropagation(),t.mouseDownEvent=e},mousemove:function(e){e.stopPropagation(),t.mouseMoveEvent=e}}},[n("div",{ref:"rubberBand",style:t.divStyle,attrs:{id:"rubber-band"}}),t._l(t.filesFiltered,(function(e,i){return n("ItemGrid",{key:i,ref:"files",refInFor:!0,attrs:{file:e},on:{click:function(e){return t.selectIndex(i)},"click-ctrl":function(e){return t.selectCtrlIndex(i)},"click-shift":function(e){return t.selectShiftIndex(i)},"stop-drop-mode":function(e){t.stopdropmode=!0},move:function(e){return t.$emit("move",e)}},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.$emit("contextmenu",e)},dblclick:function(n){return t.dive(e)}}})}))],2):n("div",{staticClass:"flex h-full not-selectable",staticStyle:{"background-color":"white"}},[n("vs-list",{staticClass:"flex-1 flex-grow"},[t._l(t.filesFiltered,(function(e,i){return[n("ItemList",{key:i,ref:"files",refInFor:!0,attrs:{file:e},on:{click:function(e){return t.selectIndex(i)},"click-ctrl":function(e){return t.selectCtrlIndex(i)},"click-shift":function(e){return t.selectShiftIndex(i)},"stop-drop-mode":function(e){t.stopdropmode=!0},move:function(e){return t.$emit("move",e)}},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.$emit("contextmenu",e)},dblclick:function(n){return t.dive(e)}}})]})),n("span")],2)],1)],1)},r=[],s=(n("20d6"),n("6d67"),n("93ad")),a=n("9d63"),o=n.n(a),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-item-grid flex flex-col m-2",class:{selected:t.selected},attrs:{draggable:""},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.stopPropagation(),t.$emit("click"))},function(e){return e.ctrlKey?e.shiftKey||e.altKey||e.metaKey?null:(e.stopPropagation(),t.$emit("click-ctrl")):null},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:(e.stopPropagation(),t.$emit("click-shift")):null}],mousedown:function(t){t.stopPropagation()},dragstart:t.startDrag,drop:function(e){return e.preventDefault(),e.stopPropagation(),t.handleDrop(e)}}},[n("div",{staticClass:"m-6"},[n("FileIcon",{attrs:{name:t.extension,selected:t.selected}})],1),n("div",{staticClass:"my-1 flex-initial",staticStyle:{height:"38px"}},[n("h5",{staticClass:"mb-2 text-center",class:{truncate:!t.selected}},[t._v("\n      "+t._s(t.filename)+"\n      "),t.folder?t._e():n("p",{staticClass:"text-grey text-center"},[t._v(t._s(t.size))])])])])},c=[],u=(n("759f"),n("96cf"),n("3b8d")),f=(n("28a5"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{sel:t.selected}},["folder"==t.name?i("img",{attrs:{src:n("ced8"),alt:"content-img",height:t.height,width:t.width}}):"ai"==t.name?i("img",{attrs:{src:n("7afd"),alt:"content-img",height:t.height,width:t.width}}):"gif"==t.name?i("img",{attrs:{src:n("29ee"),alt:"content-img",height:t.height,width:t.width}}):"jpg"==t.name?i("img",{attrs:{src:n("0c39"),alt:"content-img",height:t.height,width:t.width}}):["webp","svg"].includes(t.name)?i("img",{attrs:{src:n("5f7d"),alt:"content-img",height:t.height,width:t.width}}):"png"==t.name?i("img",{attrs:{src:n("84cc"),alt:"content-img",height:t.height,width:t.width}}):"ps"==t.name?i("img",{attrs:{src:n("d6049"),alt:"content-img",height:t.height,width:t.width}}):"zip"==t.name?i("img",{attrs:{src:n("ac1d"),alt:"content-img",height:t.height,width:t.width}}):"rar"==t.name?i("img",{attrs:{src:n("a982"),alt:"content-img",height:t.height,width:t.width}}):"tar"==t.name||"aac"==t.name?i("img",{attrs:{src:n("60ac"),alt:"content-img",height:t.height,width:t.width}}):"pdf"==t.name?i("img",{attrs:{src:n("b6a1"),alt:"content-img",height:t.height,width:t.width}}):["xls","xlsx"].includes(t.name)?i("img",{attrs:{src:n("9310"),alt:"content-img",height:t.height,width:t.width}}):["mp3","flac","m4a","wav","wma"].includes(t.name)?i("img",{attrs:{src:n("a6ec"),alt:"content-img",height:t.height,width:t.width}}):["webm","mkv","avi","flv","vob","ogv","ogg","drc","mov","mp4","mpeg","m4p","mpg","m4v","3gp","f4a","f4v","f4p"].includes(t.name)?i("img",{attrs:{src:n("474c"),alt:"content-img",height:t.height,width:t.width}}):["bin","exe","jar"].includes(t.name)?i("img",{attrs:{src:n("e402"),alt:"content-img",height:t.height,width:t.width}}):["css","scss","sass"].includes(t.name)?i("img",{attrs:{src:n("88a4"),alt:"content-img",height:t.height,width:t.width}}):["html","xhtml"].includes(t.name)?i("img",{attrs:{src:n("7870"),alt:"content-img",height:t.height,width:t.width}}):["java"].includes(t.name)?i("img",{attrs:{src:n("2f79"),alt:"content-img",height:t.height,width:t.width}}):["txt"].includes(t.name)?i("img",{attrs:{src:n("055a"),alt:"content-img",height:t.height,width:t.width}}):["doc","docx"].includes(t.name)?i("img",{attrs:{src:n("3342"),alt:"content-img",height:t.height,width:t.width}}):i("img",{attrs:{src:n("43cb"),alt:"content-img",height:t.height,width:t.width}})])}),d=[],h={name:"FileIcon",props:{name:{type:String,required:!0,default:"folder"},height:{type:String,default:"70"},width:{type:String,default:"70"},selected:{type:Boolean,default:!1}}},p=h,m=(n("79e1"),n("2877")),g=Object(m["a"])(p,f,d,!1,null,"69032914",null),v=g.exports,y=n("125b"),w={components:{FileIcon:v},computed:{extension:function(){if(this.folder)return"folder";var t=this.filename.split(".");return t[t.length-1]},filename:function(){return this.file.filename},size:function(){return this.$options.filters.prettyBytes(this.file.size)||"0 Kb"},folder:function(){return"folder"==this.file.type},selected:function(){return this.file.selected}},props:{file:{required:!0}},methods:{handleDrop:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=JSON.parse(e.dataTransfer.getData("files_path")),this.folder&&this.$emit("move",{destination:this.file.fullPath,sourcedir:this.$store.state.storage.currentFolderPath.slice(0),source:n});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),startDrag:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,i,r,s,a,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$emit("stop-drop-mode"),this.file.selected||this.$emit("click"),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",n=this.$store.state.storage.currentFolderData,i=this.$store.state.selectedApp,r=(i?this.$app(i.projectId):null)||null,s=r.storage(),t.next=10,Object(y["a"])(s,n,{getDownloadUrl:!0,downloadCurrentFolder:!1});case 10:a=t.sent,this.folder||a.some((function(t){return t.fullPath==o.file.fullPath}))||a.push(this.file),e.dataTransfer.setData("files_path",JSON.stringify(a));case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},b=w,x=(n("37ac"),Object(m["a"])(b,l,c,!1,null,null,null)),k=x.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-list-item",{class:{selected:t.selected},style:{"background-color":t.selected?"#dedede":"white"},attrs:{title:t.file.filename,"draggable.native":""},nativeOn:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.stopPropagation(),t.$emit("click"))},function(e){return e.ctrlKey?e.shiftKey||e.altKey||e.metaKey?null:(e.stopPropagation(),t.$emit("click-ctrl")):null},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:(e.stopPropagation(),t.$emit("click-shift")):null}],dragstart:function(e){return t.startDrag(e)},drop:function(e){return e.preventDefault(),e.stopPropagation(),t.handleDrop(e)}}},[n("template",{slot:"avatar"},[n("FileIcon",{staticClass:"list-icon m-2",attrs:{name:t.extension,selected:!1}})],1),n("p",{staticClass:"text-grey text-center"},[t._v("\n    "+t._s(t._f("prettyBytes")(t.file.size))+"\n  ")])],2)},_=[],C={name:"ItemList",components:{FileIcon:v},computed:{extension:function(){if(this.folder)return"folder";var t=this.file.filename.split(".");return t[t.length-1]},folder:function(){return"folder"==this.file.type},selected:function(){return this.file.selected}},props:{file:Object},methods:{handleDrop:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=JSON.parse(e.dataTransfer.getData("files_path")),this.folder&&this.$emit("move",{destination:this.file.fullPath,sourcedir:this.$store.state.storage.currentFolderPath.slice(0),source:n});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),startDrag:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,i,r,s,a,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$emit("stop-drop-mode"),this.file.selected||this.$emit("click"),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",n=this.$store.state.storage.currentFolderData,i=this.$store.state.selectedApp,r=(i?this.$app(i.projectId):null)||null,s=r.storage(),t.next=10,Object(y["a"])(s,n,{getDownloadUrl:!0,downloadCurrentFolder:!1});case 10:a=t.sent,this.folder||a.some((function(t){return t.fullPath==o.file.fullPath}))||a.push(this.file),e.dataTransfer.setData("files_path",JSON.stringify(a));case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},S=C,F=(n("d52d"),Object(m["a"])(S,$,_,!1,null,null,null)),P=F.exports,D={name:"StorageBody",components:{VuePerfectScrollbar:o.a,ItemList:P,ItemGrid:k},props:{filesFiltered:Array,mode:String,local:Boolean},data:function(){return{mouseDownEvent:null,mouseUpEvent:null,mouseMoveEvent:null,dropmode:!1,stopdropmode:!1,settings:{maxScrollbarLength:60,wheelSpeed:.3,suppressScrollX:!0}}},methods:{handleDragEnter:function(){this.stopdropmode?this.dropmode=!1:this.dropmode=!0},handleDragOver:function(){this.stopdropmode?this.dropmode=!1:this.dropmode=!0},handleDrop:function(t){t.dataTransfer.files.length>0&&this.$emit("drop-file",t.dataTransfer.files),this.dropmode=!1,this.stopdropmode=!1},checkOverlap:function(){var t=this,e=this.$refs.rubberBand.getBoundingClientRect();this.files=JSON.parse(JSON.stringify(this.files)).map((function(n,i){try{var r=t.$refs.files[i].$el.getBoundingClientRect(),s=!(r.right<=e.left||r.left>=e.right||r.bottom<=e.top||r.top>=e.bottom),a=t.mouseMoveEvent.ctrlKey;n.selected=a?s||n.selected:s,t.$emit("select-file",n)}catch(o){console.log(o)}return n}))},dive:function(t){"folder"==t.type&&(this.local?this.$emit("folder-dive",t):s["a"].$emit("folder-dive",t))},selectIndex:function(t){var e=this,n=JSON.parse(JSON.stringify(this.files));this.files=n.map((function(n){return n.selected=n.fullPath==e.filesFiltered[t].fullPath,n.fullPath==e.filesFiltered[t].fullPath&&e.$emit("select-file",n),n}))},selectCtrlIndex:function(t){var e=JSON.parse(JSON.stringify(this.files));e[t].selected=!0,this.files=e,this.$emit("select-file",this.files[t])},selectShiftIndex:function(t){for(var e=this.files.findIndex((function(t){return t.selected})),n=Math.min(e,t),i=Math.max(e,t),r=JSON.parse(JSON.stringify(this.files)),s=n;s<=i;s++)r[s].selected=!0;this.files=r,this.$emit("select-file",this.files[t])}},watch:{mouseUpEvent:function(){this.mouseDownEvent&&1==this.mouseDownEvent.which&&this.checkOverlap(),this.mouseDownEvent=null,this.mouseUpEvent=null},mouseMoveEvent:function(){var t=this.mouseDownEvent&&1==this.mouseDownEvent.which&&this.mouseMoveEvent&&!this.mouseUpEvent;t&&this.checkOverlap()}},computed:{scrollbarTag:function(){return this.$store.getters.scrollbarTag},divStyle:function(){var t=this.mouseDownEvent&&1==this.mouseDownEvent.which&&this.mouseMoveEvent&&!this.mouseUpEvent,e="0px",n="0px",i="1px",r="1px";t&&(e="".concat(Math.min(this.mouseDownEvent.y,this.mouseMoveEvent.y),"px"),n="".concat(Math.min(this.mouseDownEvent.x,this.mouseMoveEvent.x),"px"),i="".concat(Math.max(Math.abs(this.mouseMoveEvent.x-this.mouseDownEvent.x),1),"px"),r="".concat(Math.max(Math.abs(this.mouseMoveEvent.y-this.mouseDownEvent.y),1),"px"));var s={position:"fixed",border:"1px solid red",top:e,left:n,width:i,height:r};return t||(s.display="none"),s},files:{get:function(){return this.$store.state.storage.currentFolderData},set:function(t){this.$store.commit("storage/setCurrentFolderData",t)}}}},I=D,O=(n("9b41"),Object(m["a"])(I,i,r,!1,null,null,null));e["a"]=O.exports},"759f":function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(3);i(i.P+i.F*!n("2f21")([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},7870:function(t,e,n){t.exports=n.p+"img/035-file.206a94af.svg"},"79e1":function(t,e,n){"use strict";n("cfa7")},"7afd":function(t,e,n){t.exports=n.p+"img/024-file.1cbcbab9.svg"},"84cc":function(t,e,n){t.exports=n.p+"img/027-file.479aab87.svg"},"88a4":function(t,e,n){t.exports=n.p+"img/032-file.dd5dfed3.svg"},"90c2":function(t,e,n){},9310:function(t,e,n){t.exports=n.p+"img/030-file.c6dd1b37.svg"},"9b41":function(t,e,n){"use strict";n("90c2")},"9e88":function(t,e,n){},a36f:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-initial email__actions flex items-center flex-wrap justify-between p-2 border border-r-0 border-l-0 border-solid d-theme-border-grey-light"},[n("div",{staticClass:"flex flex-grow items-center"},[n("feather-icon",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["backspace"],expression:"['backspace']"}],staticClass:"mr-5 cursor-pointer",attrs:{icon:"ArrowLeftIcon","svg-classes":"h-6 w-6"},on:{shortkey:t.back,click:t.back}}),n("VxBreadCrumb",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","l"],expression:"['ctrl', 'l']"}],ref:"file-navigator",attrs:{items:t.breadCrumbItem},on:{"url-click":t.goto,submit:t.goto},nativeOn:{shortkey:function(e){return t.$refs["file-navigator"].changeMode("input")}}})],1),n("div",{staticClass:"flex items-center ml-3"},[n("vs-checkbox",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","a"],expression:"['ctrl', 'a']"}],staticClass:"select-all-chexkbox ml-0",attrs:{value:t.selectAllCheckBox,"icon-pack":"feather",icon:t.selectAllIcon},on:{input:function(e){return t.$emit("select-all",e)}},nativeOn:{shortkey:function(e){return t.$emit("select-all",!0)}}},[t._v("Select All")])],1),n("div",{staticClass:"flex"},[t.$can("storage","create")?n("vx-tooltip",{attrs:{text:"Upload Files"}},[n("feather-icon",{staticClass:"ml-5 mt-3 cursor-pointer",attrs:{icon:"FilePlusIcon","svg-classes":"h-6 w-6"},on:{click:function(e){return t.$emit("add-file")}}})],1):t._e(),t.$can("storage","delete")?n("vx-tooltip",{attrs:{text:"Delete Files Or Folders"}},[n("feather-icon",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["del"],expression:"['del']"}],staticClass:"ml-5 mr-3 mt-3 cursor-pointer",attrs:{icon:"TrashIcon","svg-classes":"h-6 w-6"},on:{shortkey:function(e){return t.$emit("delete")},click:function(e){return t.$emit("delete")}}})],1):t._e(),n("div",{staticClass:"flex grouped-button mx-1"},[n("feather-icon",{staticClass:"cursor-pointer p-1",attrs:{icon:"grid"==t.mode?"GridIcon":"ListIcon","svg-classes":"h-6 w-6",title:"grid"==t.mode?"List View":"Grid View"},on:{click:function(e){"grid"==t.mode?t.mode="list":t.mode="grid"}}})],1)],1)])},r=[],s=(n("ac6a"),n("2caf"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("87b3"),n("a481"),n("28a5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return"normal"==t.mode?n("nav",t._g(t._b({staticClass:"vs-breadcrumb w-full flex-grow",class:"vs-align-"+t.align,attrs:{"aria-label":"breadcrumb"},on:{click:function(e){return t.changeMode("input")}}},"nav",t.$attrs,!1),t.$listeners),[n("ol",{staticClass:"vs-breadcrumb--ol"},[t._t("default"),t._l(t.items,(function(e){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.hasSlot,expression:"!hasSlot"}],key:e.url,class:{"vs-active":e.active,"disabled-link":e.disabled},attrs:{"aria-current":e.active?"page":null}},[e.active?[n("span",{staticClass:"vs-breadcrumb--text",class:t.textClass,style:t.textStyle,domProps:{textContent:t._s(e.title)}})]:n("a",{staticClass:"vs-breadcrumb--link",attrs:{title:e.title},domProps:{textContent:t._s(e.title)},on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.$emit("url-click",e.url.slice(0))}}}),e.active?t._e():n("span",{staticClass:"separator notranslate vs-breadcrum--separator",class:t.separator.length>1?"material-icons":null,attrs:{translate:"no","aria-hidden":"true"},domProps:{textContent:t._s(t.separator)}})],2)}))],2)]):n("div",{staticClass:"w-full"},[n("vs-input",{staticClass:"w-full px-3",attrs:{name:"filepath"},on:{blur:function(e){t.mode="normal"},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})],1)}),a=[],o=n("ee53"),l={name:"VxBreadcrumb",props:{items:{type:Array},separator:{type:String,default:"/"},color:{type:String,default:"primary"},align:{type:String,default:"left"}},data:function(){return{mode:"normal",val:this.items[this.items.length-1].url.slice(0)}},computed:{textClass:function(){var t={};return o["a"].isColor(this.color)&&(t["vs-breadcrumb-text-".concat(this.color)]=!0),t},textStyle:function(){var t={};return o["a"].isColor(this.color)||(t.color=o["a"].getColor(this.color)),t},hasSlot:function(){return!!this.$slots.default}},methods:{submit:function(){this.$emit("submit",this.val),this.changeMode("normal")},changeMode:function(t){var e=this;"input"==t&&setTimeout((function(){e.$el.querySelector("input[name=filepath]").focus()}),800),this.mode=t}}},c=l,u=n("2877"),f=Object(u["a"])(c,s,a,!1,null,null,null),d=f.exports,h=n("93ad");function p(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function m(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var v={name:"StorageNavigation",props:{selectAllCheckBox:Boolean,local:Boolean},components:{VxBreadCrumb:d},computed:{selectAllIcon:function(){return this.selectAllCheckBox?"icon-check":"icon-minus"},currentFolderPath:function(){var t=(" "+this.$store.state.storage.currentFolderPath).slice(1);return t},breadCrumbItem:function(){var t,e=""==this.currentFolderPath?[]:this.currentFolderPath.replace(/^\/+|\/+$/g,"").split("/"),n="/",i=[{title:"Root",url:"/"}],r=p(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;n+=s+"/",i.push({title:s,url:n})}}catch(a){r.e(a)}finally{r.f()}return i[i.length-1].active=!0,i},mode:{get:function(){return this.$store.state.storage.view_mode},set:function(t){this.$store.commit("storage/setViewMode",t)}}},methods:{back:function(){var t=this.currentFolderPath.split("/");t.pop(),this.goto(t.join("/")||"/")},goto:function(t){this.local?this.$emit("folder-dive",{fullPath:t}):h["a"].$emit("folder-dive",{fullPath:t})}}},y=v,w=(n("0ce8"),Object(u["a"])(y,i,r,!1,null,null,null));e["a"]=w.exports},a6ec:function(t,e,n){t.exports=n.p+"img/001-file.57d80473.svg"},a982:function(t,e,n){t.exports=n.p+"img/009-file.f13b7942.svg"},ac1d:function(t,e,n){t.exports=n.p+"img/008-file.cf0f3568.svg"},b3a8:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-popup",{attrs:{title:"Upload Popup",active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[n("UploaderFirebase",{ref:"uploader",attrs:{"storing-path":t.path,listOnly:"",multiple:"",accept:t.type+"/*"},on:{"on-success":t.addFile,"on-delete":t.removeFile,finish:function(e){return t.$emit("finish")}}})],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con-upload"},[t.viewActive?n("view-upload",{attrs:{src:t.viewSrc}}):t._e(),n("div",{staticClass:"con-img-upload flex flex-col"},[t.noBody?t._e():[t.listOnly?n("vx-card",{directives:[{name:"show",rawName:"v-show",value:t.getFilesFilter.length>0,expression:"getFilesFilter.length > 0"}],attrs:{"no-shadow":""}},[n("vs-list",t._l(t.getFilesFilter,(function(e,i){return n("div",{key:i,staticClass:"vs-list--item",class:{fileError:e.error,removeItem:t.itemRemove.includes(i)}},[n("div",{staticClass:"list-titles w-full"},[n("div",{staticClass:"vs-list--title",staticStyle:{"word-wrap":"break-word"}},[n("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.openLink(e.url)}}},[t._v(t._s(e.name)+"\n                ")])]),e.percent?n("div",{staticClass:"vs-list--subtitle w-full"},[n("vs-row",[n("vs-col",[n("vs-progress",{attrs:{percent:e.percent,color:"primary"}})],1),n("vs-col",[t._v(" "+t._s(e.percent.toFixed(2))+" % ")])],1)],1):t._e()]),n("div",{staticClass:"vs-list--slot"},[n("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(e){return t.removeFile(i)}}})],1)])})),0)],1):t._l(t.getFilesFilter,(function(e,i){return n("div",{key:i,staticClass:"img-upload",class:{fileError:e.error,removeItem:t.itemRemove.includes(i)}},[n("button",{staticClass:"btn-x-file",attrs:{type:"button"},on:{click:function(e){return t.removeFile(i)}}},[n("i",{staticClass:"material-icons notranslate",attrs:{translate:"no"}},[t._v("\n              clear\n            ")])]),t.showUploadButton?n("button",{staticClass:"btn-upload-file",class:{"on-progress":e.percent,"ready-progress":e.percent>=100},style:{height:e.percent+"%"},on:{click:function(e){return t.upload(i)}}},[n("i",{staticClass:"material-icons notranslate",attrs:{translate:"no"}},[t._v("\n              "+t._s(e.percent>=100?e.error?"report_problem":"cloud_done":"cloud_upload")+"\n            ")]),n("span",[t._v(t._s(e.percent)+" %")])]):t._e(),e.src?n("img",{key:i,style:{maxWidth:"h"==e.orientation?"100%":"none",maxHeight:"w"==e.orientation?"100%":"none"},attrs:{src:e.src},on:{touchend:function(n){return t.viewImage(e.src,n)},click:function(n){return t.viewImage(e.src,n)}}}):t._e(),e.src?t._e():n("h4",{staticClass:"text-archive"},[n("i",{staticClass:"material-icons notranslate",attrs:{translate:"no"}},[t._v("\n              description\n            ")]),n("span",[t._v("\n              "+t._s(e.name)+"\n            ")])])])}))],t.isSmallerScreen||t.alwaysButton?n("vs-button",{staticClass:"my-2 mx-auto",on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("\n      "+t._s(t.text)+"\n      "),n("input",t._b({directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileInput",attrs:{multiple:t.multiple,accept:t.accept,disabled:!(!t.$attrs.disabled&&!t.limit)&&t.srcs.length-t.itemRemove.length>=Number(t.limit),type:"file"},on:{change:t.getFiles}},"input",t.$attrs,!1))]):n("div",{staticClass:"con-input-upload m-auto",class:{"on-progress-all-upload":0!=t.percent,"is-ready-all-upload":t.percent>=100,"disabled-upload":!(!t.$attrs.hasOwnProperty("disabled")&&!t.limit)&&t.srcs.length-t.itemRemove.length>=Number(t.limit),focusInput:t.focusInput},staticStyle:{width:"85%"}},[n("input",t._b({ref:"fileInput",attrs:{multiple:t.multiple,accept:t.accept,disabled:!(!t.$attrs.disabled&&!t.limit)&&t.srcs.length-t.itemRemove.length>=Number(t.limit),type:"file"},on:{focus:function(e){t.focusInput=!0},blur:function(e){t.focusInput=!1},change:t.getFiles}},"input",t.$attrs,!1)),n("span",{staticClass:"text-input"},[t._v("\n        "+t._s(t.text)+"\n      ")])])],2)],1)},a=[],o=(n("7f7f"),n("ac6a"),n("f3e2"),n("d25f"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"view-upload"}},[n("div",{ref:"view",staticClass:"view-upload",on:{click:t.closeView}},[n("img",{attrs:{src:t.src,alt:"image"}})])])}),l=[],c=n("f9e0"),u={name:"ViewUpload",props:{active:{default:!1,type:Boolean},src:{default:null,type:String}},mounted:function(){c["a"].insertBody(this.$refs.view)},upload:function(){c["a"].insertBody(this.$refs.view)},methods:{closeView:function(t){"IMG"!=t.target.tagName&&(this.$parent.viewActive=!1)}}},f=u,d=n("2877"),h=Object(d["a"])(f,o,l,!1,null,null,null),p=h.exports,m=0,g={name:"UploaderFirebase",components:{viewUpload:p},inheritAttrs:!1,props:{listOnly:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},alwaysButton:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},text:{default:"Upload File",type:String},textMax:{default:"Maximum of files reached",type:String},limit:{default:null,type:[Number,String]},data:{default:function(){return{}},type:Object},automatic:{default:!1,type:Boolean},showUploadButton:{default:!0,type:Boolean},accept:{type:String,default:"*/*"},storingPath:{default:"temporary",type:String}},data:function(){return{inputValue:null,type:null,srcs:[],filesx:[],itemRemove:[],percent:0,viewActive:!1,viewSrc:null,focusInput:!1}},computed:{isSmallerScreen:function(){return this.$store.state.windowWidth<768},getFilesFilter:function(){var t=this.srcs.filter((function(t){return!t.remove}));return t},postFiles:function(){var t=Array.prototype.slice.call(this.filesx);return t=t.filter((function(t){return!t.hasOwnProperty("remove")})),t.length},app:function(){var t=this.$store.state.selectedApp;return(t?this.$app(t.projectId):null)||null}},watch:{percent:function(){var t=this;this.percent>=100&&(this.$emit("finish"),this.srcs.forEach((function(t){t.percent=100})),setTimeout((function(){t.percent=0}),1e3))}},methods:{setUrls:function(t){this.srcs=t,this.filesx=t},openLink:function(t){window.open(t,"_blank")},reset:function(){this.srcs=[],this.filesx=[],this.itemRemove=[],this.percent=0},viewImage:function(t,e){var n,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?"touchstart":"click";if("click"==i)this.viewActive=!0,this.viewSrc=t;else if("touchend"==e.type){var r=(new Date).getTime(),s=r-m;clearTimeout(n),s<500&&s>0&&(this.viewActive=!0,this.viewSrc=t,event.preventDefault()),m=r}},removeFile:function(t){this.$emit("on-delete",{index:t,file:this.filesx[t]}),this.srcs=this.srcs.filter((function(e,n){return n!=t})),this.filesx=this.filesx.filter((function(e,n){return n!=t}))},getFiles:function(t){this.$emit("update:vsFile",t.target.value);var e=this;function n(t){var e="h",n=new Image;n.src=t.target.result,n.name=t.target.fileName,n.onload=function(){this.width>this.height&&(e="w"),i(this,e)}}function i(t,n){e.srcs.push({name:t.name,src:t.src,orientation:n,type:e.typex,percent:null,error:!1,remove:null})}var r=t.target.files,s=this.srcs.length-this.itemRemove.length;for(var a in r)if(r.hasOwnProperty(a)){if(this.limit&&(s++,s>Number(this.limit)))break;var o=new FileReader,l=r[a];/image.*/.test(l.type)?(this.typex="image",this.filesx.push(l),o.onload=n,o.fileName=l.name,o.readAsDataURL(l)):/video.*/.test(l.type)?(this.typex="video",this.filesx.push(l),e.srcs.push({src:null,name:l.name,type:"video",percent:null,error:!1,remove:null})):(this.filesx.push(l),e.srcs.push({src:null,name:l.name,percent:null,error:!1,remove:null})),this.$emit("change",t.target.value,this.filesx)}var c=this.$refs.fileInput;c.type="text",c.type="file",this.upload("all")},upload:function(t){var e=this;this.$emit("start");var n=Array.prototype.slice.call(this.filesx);"number"==typeof t?n=[n[t]]:"all"==t&&(n=n.filter((function(t){return!t.hasOwnProperty("remove")}))),n.forEach((function(t,n){e.uploadx(n,t)}))},uploadx:function(t,e){var n=this,i=this.app.storage(),r=i.ref().child(this.storingPath+"/"+e.name),s=r.put(e,this.data);s.on("state_changed",(function(e){var i=e.bytesTransferred/e.totalBytes*100;switch(n.srcs[t].percent=i,e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}}),(function(e){n.$emit("on-error",{index:t,code:e.code,error:e}),n.srcs[t].error=!0}),(function(){s.snapshot.ref.getDownloadURL().then((function(e){n.filesx[t].url=e,n.percent+=100/n.filesx.length,n.$emit("on-success",{index:t,url:e})}))}))}}},v=g,y=(n("c763"),Object(d["a"])(v,s,a,!1,null,null,null)),w=y.exports,b={components:{UploaderFirebase:w},props:{path:{type:String,default:"temporary/"},type:String},name:"UploadPopup",data:function(){return{popupActive:!1}},watch:{popupActive:function(t){var e=this;t?setTimeout((function(){e.focus()}),1e3):(this.reset(),this.$refs.uploader.reset())}},methods:{removeFile:function(){},addFile:function(){},focus:function(){},open:function(){this.popupActive=!0},close:function(){this.popupActive=!1},toggle:function(){this.popupActive=!this.popupActive},reset:function(){}}},x=b,k=Object(d["a"])(x,i,r,!1,null,null,null);e["a"]=k.exports},b6a1:function(t,e,n){t.exports=n.p+"img/029-file.cb7648e7.svg"},c763:function(t,e,n){"use strict";n("e819")},ced8:function(t,e,n){t.exports=n.p+"img/023-folder.1a7c5c24.svg"},cfa7:function(t,e,n){},d52d:function(t,e,n){"use strict";n("9e88")},d6049:function(t,e,n){t.exports=n.p+"img/028-file.70a5dbc3.svg"},e402:function(t,e,n){t.exports=n.p+"img/031-file.4b84c87f.svg"},e819:function(t,e,n){},f2d5:function(t,e,n){}}]);
//# sourceMappingURL=chunk-74a6a9a0.0fb5f525.js.map