(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf7412bc"],{"25b8":function(e,t,i){"use strict";i("cc72")},6015:function(e,t,i){"use strict";i("82b0")},"72cc":function(e,t,i){},"7cac":function(e,t,i){"use strict";i("ffd0")},"82b0":function(e,t,i){},9240:function(e,t,i){"use strict";i("72cc")},ac76:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("CreateFieldSidebar",{ref:"cSidebar",on:{addField:e.addField}}),i("IconPickerPopup",{ref:"ipPopup",on:{setIcon:e.setIcon}}),i("div",{staticClass:"flex justify-items-center"},[i("AvatarIcon",{attrs:{icon:e.icon},on:{click:function(t){return e.$refs.ipPopup.open()}}}),i("vs-input",{staticClass:"w-full mb-base",attrs:{name:"title",size:"large",placeholder:"Content Model Name. eg. Post, Blog, Comment, etc."},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),i("div",{staticClass:"flex justify-end"},[i("vs-switch",{staticClass:"float-right",attrs:{title:"please set your algolia before using this field."},model:{value:e.algolia_index,callback:function(t){e.algolia_index=t},expression:"algolia_index"}},[i("span",{staticStyle:{"font-size":"1.1rem"},attrs:{slot:"on"},slot:"on"},[e._v("Algolia On")]),i("span",{staticStyle:{"font-size":"1.1rem"},attrs:{slot:"off"},slot:"off"},[e._v("Algolia Off")])])],1),i("h3",[e._v("Definition Field")]),i("vs-button",{staticClass:"m-3",attrs:{type:"border"},on:{click:function(t){e.$refs.cSidebar.isSidebarActiveLocal=!0}}},[e._v("\n    Add Field\n  ")]),i("vs-button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","enter"],expression:"['ctrl', 'enter']"}],on:{click:e.createContentModel},nativeOn:{shortkey:function(t){return e.createContentModel(t)}}},[e._v("\n    "+e._s("create"==e.mode?"Create":"Update")+" Content Model\n  ")]),i("DefinitionField",{attrs:{definitions:e.definitions,path:[]},on:{edit:e.editDefinition,delete:e.deleteDefinition,"add-field":function(t){e.path=t.path,e.index=t.index,e.$refs.cSidebar.isSidebarActiveLocal=!0}}})],1)},o=[],r=(i("ac6a"),i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("6b54"),i("87b3"),i("7514"),i("7618")),a=(i("d92a"),i("6762"),i("2fdb"),i("96cf"),i("3b8d")),s=(i("a481"),i("20d6"),i("2caf"),i("7f7f"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("vs-sidebar",{staticClass:"sidebarx sidebarpage add-new-data-sidebar items-no-padding",attrs:{"position-right":"",parent:"body",clickNotClose:!0,"default-index":"1",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(t){e.isSidebarActiveLocal=t},expression:"isSidebarActiveLocal"}},[i("div",{staticClass:"py-6 flex items-center justify-between px-6",staticStyle:{"background-color":"#F7F7F7","border-bottom":"1px solid #D6D6D6"}},[i("h3",[e._v("\n      Add a New Field\n    ")]),i("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),i(e.scrollbarTag,{key:e.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[i("div",[i("div",{staticClass:"vx-row m-3"},[i("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2 flex flex-wrap flex-col"},[i("vs-input",{staticClass:"w-full",attrs:{name:"flabel",label:"Field Label",danger:e.errors.some((function(e){return"/title"==e.dataPath})),"danger-text":e.errors.find((function(e){return"/title"==e.dataPath}))?e.errors.find((function(e){return"/title"==e.dataPath})).message:""},on:{input:e.setApiLabel},model:{value:e.field_def.title,callback:function(t){e.$set(e.field_def,"title",t)},expression:"field_def.title"}}),i("vs-input",{staticClass:"w-full",attrs:{label:"Field API Name",danger:e.errors.some((function(e){return"/api_label"==e.dataPath})),"danger-text":e.errors.find((function(e){return"/api_label"==e.dataPath}))?e.errors.find((function(e){return"/title"==e.dataPath})).message:"","description-text":"field name that will set to be referenced in API or SDK"},model:{value:e.field_def.api_label,callback:function(t){e.$set(e.field_def,"api_label",t)},expression:"field_def.api_label"}})],1),i("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[i("vs-textarea",{staticClass:"mt-4",attrs:{label:"Description"},model:{value:e.field_def.description,callback:function(t){e.$set(e.field_def,"description",t)},expression:"field_def.description"}})],1)]),i("SelectFieldType",{attrs:{value:e.field_def.type},on:{setType:e.setType}}),i("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.some((function(e){return"/type"==e.dataPath})),expression:"errors.some((t) => t.dataPath == '/type')"}],staticClass:"text-danger text-sm m-3"},[e._v(e._s(e.errors.find((function(e){return"/type"==e.dataPath}))?e.errors.find((function(e){return"/type"==e.dataPath})).message:""))]),i("div",{staticClass:"m-3"},[i("h5",[e._v("Field Properties")]),i("vs-divider"),i("div",{staticClass:"flex flex-col"},["dropdown"==this.field_def.type?[i("EnumFieldProperties",{attrs:{schema:e.field_def.schema},on:{setEnum:function(t){e.field_def.schema.enum=t},setDefault:function(t){e.field_def.schema.default=t},setRequired:function(t){e.field_def.schema.isNotEmpty=t}}})]:"ref"==this.field_def.type?[i("RefFieldProperties",{attrs:{schema:e.field_def.schema},on:{setRef:function(t){e.field_def.schema.collection_name=t},setRequired:function(t){e.field_def.schema.required=t},setFieldFromRef:function(t){e.field_def.schema.fieldFromRef=t}}})]:"image"==this.field_def.type?[i("ImageFieldProperties",{on:{setPath:function(t){e.field_def.schema.upload_folder=t}}})]:"file"==this.field_def.type?[i("FileFieldProperties",{on:{setPath:function(t){e.field_def.schema.upload_folder=t},setValidType:function(t){e.field_def.schema.valid_types=t}}})]:"filelist"==this.field_def.type?[i("FileListFieldProperties",{on:{setPath:function(t){e.field_def.schema.upload_folder=t},setValidType:function(t){e.field_def.schema.valid_types=t},setMax:function(t){e.field_def.schema.maxItem=t}}})]:e._l(e.properties,(function(t,n,o){return i("div",{key:n,staticClass:"flex w-full"},[t.hidden?e._e():[i("div",{staticClass:"p-6 left-prop",class:{"left-prop-last":o==Object.keys(e.properties).length-1}},[i("p",[i("b",[e._v(e._s(t.title))])]),i("span",{staticClass:"text-sm"},[e._v(e._s(t.description))])]),i("div",{staticClass:"flex-1 right-prop"},[t.const?[i("p",{staticClass:"m-3"},[e._v(e._s(t.const))])]:[i("AjvInput",{attrs:{schema:t,options:e.options},model:{value:e.field_def.schema[n],callback:function(t){e.$set(e.field_def.schema,n,t)},expression:"field_def.schema[key]"}})]],2)]],2)}))],2)],1)],1)]),i("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[i("vs-progress",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"w-full flex-initial my-3",attrs:{indeterminate:"",color:"primary"}}),i("vs-button",{staticClass:"mr-6",attrs:{disabled:e.isLoading},on:{click:function(t){!e.isLoading&&e.submitData()}}},[e._v("Submit")]),i("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(t){e.isSidebarActiveLocal=!1}}},[e._v("Cancel")])],1)],1)}),l=[],c=(i("d25f"),i("6d67"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-button flex flex-col",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),d=[],u={name:"FieldButton"},f=u,p=(i("25b8"),i("2877")),m=Object(p["a"])(f,c,d,!1,null,null,null),h=m.exports,v=i("9d63"),I=i.n(v),y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("h5",[e._v("Select Field Type")]),i("vs-divider"),i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"flex flex-wrap flex-shrink"},[i("div",{staticClass:"w-full"},[e._v("\n          Text Fields\n        ")]),i("FieldButton",{class:{selected:"text"==e.value},on:{click:function(t){return e.setType("text")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"title",size:"30px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Text")])],1),i("FieldButton",{class:{selected:"rich_text"==e.value},on:{click:function(t){return e.setType("rich_text")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"format_indent_increase",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"text-center mb-1"},[e._v("Multi-Line Text")])],1),i("FieldButton",{class:{selected:"html"==e.value},on:{click:function(t){return e.setType("html")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"edit",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"text-center mb-1"},[e._v("WYSIWYG Editor")])],1),i("FieldButton",{class:{selected:"html_code"==e.value},on:{click:function(t){return e.setType("html_code")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"code",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"text-center mb-1"},[e._v("HTML")])],1),i("FieldButton",{class:{selected:"dropdown"==e.value},on:{click:function(t){return e.setType("dropdown")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"format_list_bulleted",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"text-center mb-1"},[e._v("Dropdown List")])],1),i("FieldButton",{class:{selected:"url"==e.value},on:{click:function(t){return e.setType("url")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"link",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"text-center mb-1"},[e._v("URL")])],1)],1),i("div",{staticClass:"flex flex-wrap"},[i("div",{staticClass:"w-full"},[e._v("\n          Special Type Fields\n        ")]),i("FieldButton",{class:{selected:"ref"==e.value},on:{click:function(t){return e.setType("ref")}}},[i("center",{staticClass:"mt-1"},[i("feather-icon",{staticStyle:{color:"black"},attrs:{icon:"LinkIcon",svgClasses:"w-8 h-8"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Model Reference")])],1),i("FieldButton",{class:{selected:"array"==e.value},on:{click:function(t){return e.setType("array")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"view_array",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Array")])],1),i("FieldButton",{class:{selected:"object"==e.value},on:{click:function(t){return e.setType("object")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"emoji_objects",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Object")])],1)],1)]),i("div",{staticClass:"flex mt-3"},[i("div",{staticClass:"flex flex-wrap"},[i("div",{staticClass:"w-full"},[e._v("\n          Number, Date & Binary Fields\n        ")]),i("FieldButton",{class:{selected:"int"==e.value},on:{click:function(t){return e.setType("int")}}},[i("center",{staticClass:"mt-1"},[i("feather-icon",{staticStyle:{color:"black"},attrs:{icon:"HashIcon",svgClasses:"w-8 h-8"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Number")])],1),i("FieldButton",{class:{selected:"decimal"==e.value},on:{click:function(t){return e.setType("decimal")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"exposure_plus_1",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Decimal")])],1),i("FieldButton",{class:{selected:"datetime"==e.value},on:{click:function(t){return e.setType("datetime")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"date_range",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Date/Time")])],1),i("FieldButton",{class:{selected:"bool"==e.value},on:{click:function(t){return e.setType("bool")}}},[i("center",{staticClass:"mt-1"},[i("vs-icon",{attrs:{icon:"check",size:"25px",color:"rgb(0, 0, 0)"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("True/False")])],1),i("FieldButton",{class:{selected:"blob"==e.value},on:{click:function(t){return e.setType("blob")}}},[i("center",{staticClass:"mt-1"},[i("img",{attrs:{id:"dimg_61",width:"35",height:"35",src:"data:image/png;base64,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",alt:"Image result for binary icon","data-atf":"1"}})]),i("span",{staticClass:"mb-1 text-center"},[e._v("BLOB")])],1)],1),i("div",{staticClass:"flex flex-wrap"},[i("div",{staticClass:"w-full"},[e._v("\n          Media & Attachment Fields\n        ")]),i("FieldButton",{class:{selected:"image"==e.value},on:{click:function(t){return e.setType("image")}}},[i("center",{staticClass:"mt-1"},[i("feather-icon",{staticStyle:{color:"black"},attrs:{icon:"ImageIcon",svgClasses:"w-10 h-10"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("Image")])],1),i("FieldButton",{class:{selected:"file"==e.value},on:{click:function(t){return e.setType("file")}}},[i("center",{staticClass:"mt-1"},[i("feather-icon",{staticStyle:{color:"black"},attrs:{icon:"FileIcon",svgClasses:"w-8 h-8"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("File")])],1),i("FieldButton",{class:{selected:"filelist"==e.value},on:{click:function(t){return e.setType("filelist")}}},[i("center",{staticClass:"mt-1"},[i("feather-icon",{staticStyle:{color:"black"},attrs:{icon:"FileTextIcon",svgClasses:"w-8 h-8"}})],1),i("span",{staticClass:"mb-1 text-center"},[e._v("List of Files")])],1)],1)])])],1)},b=[],g={props:{value:{type:String,default:""}},components:{FieldButton:h},methods:{setType:function(e){this.$emit("setType",e)}}},x=g,C=Object(p["a"])(x,y,b,!1,null,null,null),_=C.exports,w={text:{type:"object",properties:{type:{constant:["string","null"],hidden:!0},minLength:{type:["integer","null"],minimum:1,title:"Minimum Length",description:"Set an optional minimum character length for the field."},maxLength:{type:["integer","null"],minimum:1,title:"Maximum Length",description:"Set an optional maximum character length for the field."},pattern:{type:["string","null"],format:"regex",title:"Pattern",description:"Set a Regex Pattern to validate."},default:{type:["string","null"],default:null,title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."},format:{title:"Format",description:"Set an optional format validation for the field.",enum:["date","date-time","uri","email","hostname","ipv4","ipv6","regex"]}}},url:{type:"object",properties:{type:{constant:["string","null"],hidden:!0},minLength:{type:["integer","null"],minimum:1,title:"Minimum Length",description:"Set an optional minimum character length for the field."},maxLength:{type:["integer","null"],minimum:1,title:"Maximum Length",description:"Set an optional maximum character length for the field."},default:{type:["string","null"],default:null,title:"Default Value",description:"Set an optional default value for the field."},format:{title:"Format",description:"Set an optional format validation for the field.",const:"uri"},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}}},rich_text:{type:"object",properties:{type:{constant:["string","null"],hidden:!0},minLength:{type:["integer","null"],minimum:1,title:"Minimum Length",description:"Set an optional minimum character length for the field."},maxLength:{type:["integer","null"],minimum:1,title:"Maximum Length",description:"Set an optional maximum character length for the field."},default:{type:["string","null"],default:null,title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}}},html:{type:"object",properties:{type:{constant:["string","null"],hidden:!0},default:{type:["string","null"],default:null,title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}}},html_code:{type:"object",properties:{type:{constant:["string","null"],hidden:!0},default:{type:["string","null"],default:null,title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}}},dropdown:{properties:{type:{constant:["string","null"],hidden:!0},enum:{minItems:1,items:{properties:{key:{type:"string"},value:{type:"string"}}},additionalItems:!1},default:{type:["string","null"],default:null,title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}},additionalProperties:!1},ref:{properties:{collection_name:{type:"string"},required:{type:"boolean",default:!1},fieldFromRef:{type:"array",default:[]}},additionalProperties:!1,required:["collection_name","required"]},array:{type:"object",properties:{definitions:{type:["array","object","null"],minItems:1,hidden:!0,default:null},minItems:{type:["integer","null"],minimum:0,title:"Minimum Item Count",description:"Set an optional minimum count for the field."},maxItems:{type:["integer","null"],minimum:1,title:"Maximum Item Count",description:"Set an optional maximum count for the field."},uniqueItemProperties:{type:["array","null"],uniqueItems:!0,items:{type:"string"},default:[],title:"Unique Field(optional)",description:"Set an optional unique field (PK) for the field. use api key field"},uniqueItems:{type:["boolean","null"],default:null,title:"Unique Item Global (optional)",description:'Set this to true so item in array is unique. this is different from "Unique Field(optional)" which depend on field properties its affecting all type.'}}},object:{type:"object",properties:{definitions:{type:["array","null"],hidden:!0,default:[]},minProperties:{type:["integer","null"],minimum:1,title:"Minimum Properties Count",description:"Set an optional minimum properties for the field."},maxProperties:{type:["integer","null"],minimum:1,title:"Maximum Properties Count",description:"Set an optional maximum properties for the field."},required:{type:["array","null"],items:{type:"string"},uniqueItems:!0,title:"Required Properties",default:[],description:"Set an required properties for the field. use api field name"}}},int:{properties:{type:{constant:["integer","null"],hidden:!0},minimum:{type:["integer","null"],title:"Minimum Value",description:"Set an optional maximum value for the field."},maximum:{type:["integer","null"],title:"Maximum Value",description:"Set an optional maximum value for the field."},default:{type:["integer","null"],default:"",title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}}},decimal:{properties:{type:{constant:["number","null"],hidden:!0},minimum:{type:["number","null"],title:"Minimum Value",description:"Set an optional maximum value for the field."},maximum:{type:["number","null"],title:"Maximum Value",description:"Set an optional maximum value for the field."},default:{type:["number","null"],default:1,title:"Default Value",description:"Set an optional default value for the field."},isNotEmpty:{type:["boolean","null"],default:!1,title:"Required",description:"Set this field to not accept empty value."}}},datetime:{properties:{type:{constant:["object","null"],hidden:!0},minimum:{type:["string","null"],format:"date-time",title:"Minimum Value",description:"Set an optional minimum value for the field."},maximum:{type:["string","null"],format:"date-time",title:"Maximum Value",description:"Set an optional maximum value for the field."}}},bool:{properties:{type:{constant:["boolean","null"],hidden:!0},default:{type:["boolean","null"],default:!1,title:"Default Value",description:"Set an optional default value for the field."}}},blob:{properties:{}},image:{properties:{upload_folder:{type:"string",title:"Default Upload Folder",description:"Set Upload Destination for the field."}},required:["upload_folder"]},file:{properties:{upload_folder:{type:"string"},valid_types:{items:{enum:["ppt","pptx","pdf","doc","docx","xlsx","xls","jpg","jpeg","gif","png","svg","bmp","all"]}}},required:["upload_folder"]},filelist:{properties:{upload_folder:{type:"string"},valid_types:{items:{enum:["ppt","pptx","pdf","doc","docx","xlsx","xls","jpg","jpeg","gif","png","svg","bmp","all"]}},maxItem:{type:["integer","null"],minimum:1,title:"Maximum Item",description:"Set an optional maximum Item count for the field."}},required:["upload_folder"]}},k=i("6953"),A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("vs-table",{attrs:{data:e.enum_datas},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return e._l(n,(function(t,o){return i("vs-tr",{key:o},[t.type&&"add"==t.type?i("vs-td",{attrs:{colspan:"3"}},[i("vs-button",{staticClass:"w-full",attrs:{type:"border"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.enum_datas.unshift({key:"",value:""})}}},[e._v("\n            Add new Option.\n          ")])],1):[i("vs-td",{attrs:{data:n[o].key}},[i("vs-input",{model:{value:t.key,callback:function(i){e.$set(t,"key",i)},expression:"tr.key"}})],1),i("vs-td",{attrs:{data:n[o].value}},[i("vs-input",{model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"tr.value"}})],1),i("vs-td",[i("feather-icon",{staticClass:"mr-2",attrs:{title:"Default",icon:t.value==e.def?"CheckSquareIcon":"SquareIcon",svgClasses:"h-4 w-4"},on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.def=t.value,e.$emit("setDefault",t.value)}}}),i("feather-icon",{staticClass:"mr-2",attrs:{title:"Delete Option",icon:"TrashIcon",svgClasses:"h-4 w-4"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.enum_datas.splice(o,1)}}})],1)]],2)}))}}])},[i("template",{slot:"thead"},[i("vs-th",[e._v("Key")]),i("vs-th",[e._v("Value")]),i("vs-th",[e._v("Action")])],1)],2),i("div",{staticClass:"flex m-3"},[i("vs-switch",{on:{input:function(t){return e.$emit("setRequired",t)}},model:{value:e.required,callback:function(t){e.required=t},expression:"required"}}),i("label",{staticClass:"mx-3"},[e._v("Required?")])],1)],1)},F=[],S=i("75fc"),P={watch:{enum_datas:{handler:function(e){this.$emit("setEnum",e.filter((function(e){return!e.type})))},deep:!0}},props:["schema"],mounted:function(){var e;(e=this.enum_datas).unshift.apply(e,Object(S["a"])(this.schema.enum)),this.def=this.schema.default,this.required=this.schema.isNotEmpty},data:function(){return{required:!1,def:"",enum_datas:[{type:"add"}]}}},L=P,M=Object(p["a"])(L,A,F,!1,null,null,null),R=M.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"flex w-full"},[e._m(0),i("div",{staticClass:"flex-1 right-prop"},[i("center",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.required,expression:"required"}],staticClass:"mt-8",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.required)?e._i(e.required,null)>-1:e.required},on:{change:function(t){var i=e.required,n=t.target,o=!!n.checked;if(Array.isArray(i)){var r=null,a=e._i(i,r);n.checked?a<0&&(e.required=i.concat([r])):a>-1&&(e.required=i.slice(0,a).concat(i.slice(a+1)))}else e.required=o}}})])],1)]),i("div",{staticClass:"flex w-full"},[e._m(1),i("div",{staticClass:"flex-1 right-prop"},[i("vs-list",e._l(e.irisContentModelActive,(function(t){return i("vs-list-item",{key:t.collection_name,attrs:{title:t.title},nativeOn:{click:function(i){e.selected=t.id}}},[i("template",{slot:"avatar"},[i("AvatarIcon",{attrs:{icon:t.icon,size:"small"}})],1),i("vs-radio",{attrs:{"vs-name":"col","vs-value":t.id},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],2)})),1)],1)]),i("div",{staticClass:"flex w-full"},[e._m(2),i("div",{staticClass:"flex-1 right-prop"},[i("vSelect",{staticClass:"bg-white m-3",attrs:{multiple:"",closeOnSelect:!1,options:e.options,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.fieldFromRef,callback:function(t){e.fieldFromRef=t},expression:"fieldFromRef"}})],1)])])},T=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-6 left-prop"},[i("p",[i("b",[e._v("Required")])]),i("span",{staticClass:"text-sm"},[e._v("Value must not empty.")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-6 left-prop"},[i("p",[i("b",[e._v("Collection")])]),i("span",{staticClass:"text-sm"},[e._v("Select Collection to be referenced.")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-6 left-prop left-prop-last"},[i("p",[i("b",[e._v("Field From Ref")])]),i("span",{staticClass:"text-sm"},[e._v("included field from referenced document.")])])}],O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-model-icon mx-3",class:{small:"small"==e.size,big:"big"==e.size},on:{click:function(t){return e.$emit("click")}}},[i("feather-icon",{attrs:{icon:e.icon||"KeyIcon"}})],1)},j=[],q={props:["icon","size"]},E=q,V=(i("7cac"),Object(p["a"])(E,O,j,!1,null,null,null)),U=V.exports,z=i("4a7a"),W=i.n(z),B={name:"RefFieldProperties",components:{AvatarIcon:U,vSelect:W.a},data:function(){return{selected:"",required:!1,fieldFromRef:[],options:[]}},props:["schema"],watch:{selected:function(e){this.$emit("setRef",e),console.log("newval",e);var t=(this.irisContentModelActive.find((function(t){return t.id==e}))||{definitions:[]}).definitions;console.log("def",t),this.options=t.map((function(e){return e.api_label}))},required:function(e){this.$emit("setRequired",e)},fieldFromRef:function(e){this.$emit("setFieldFromRef",e)}},mounted:function(){this.required=this.schema.required||!1,this.selected=this.schema.collection_name||""},computed:{irisContentModel:function(){return this.$store.state.content_model.irisContentModel.filter((function(e){return""!==e.algolia_index}))},irisContentModelActive:function(){return this.irisContentModel.filter((function(e){return 0==e.archived}))}}},N=B,Y=Object(p["a"])(N,D,T,!1,null,null,null),K=Y.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex w-full"},[e._m(0),i("div",{staticClass:"flex-1 right-prop"},[i("PathSelector",{on:{"set-path":function(t){return e.$emit("setPath",t)}}})],1)])},Z=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2 left-prop left-prop-last"},[i("p",[i("b",[e._v("Folder Path")])]),i("span",{staticClass:"text-sm"},[e._v("Path where you save the image.")])])}],G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("vs-input",{staticClass:"w-full p-3",staticStyle:{"background-color":"white"},attrs:{"icon-pack":"feather",icon:"icon-folder","icon-after":"","vs-icon-after":"true",disabled:!0},nativeOn:{click:function(t){return e.handle(t)}},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}}),i("FolderSelectorPopup",{ref:"fsPopup",on:{input:function(t){e.path=t,e.$emit("set-path",t)}}})],1)},X=[],H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("vs-popup",{attrs:{title:"Select a Folder",active:e.popupActive},on:{"update:active":function(t){e.popupActive=t}}},[i("vs-prompt",{staticStyle:{"z-index":"60000"},attrs:{active:e.createFolderPrompt},on:{accept:e.createFolder,"update:active":function(t){e.createFolderPrompt=t}}},[i("div",{staticClass:"con-exemple-prompt"},[i("span",[e._v("Enter Folder Name")]),i("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Folder name","vs-placeholder":"Folder name"},model:{value:e.folder_name,callback:function(t){e.folder_name=t},expression:"folder_name"}})],1)]),i("div",{staticClass:"float-right"},[i("feather-icon",{staticClass:"mr-1",attrs:{title:"Add Folder",icon:"FolderPlusIcon",svgClasses:"h-6 w-6"},on:{click:function(t){e.createFolderPrompt=!0}}})],1),i(e.scrollbarTag,{key:e.$vs.rtl,tag:"component",staticClass:"flex flex-col flex-1",attrs:{settings:e.settings}},[i("v-tree",{ref:"tree",staticClass:"not-selectable",staticStyle:{width:"500px"},attrs:{scoped:"",data:e.treeData,multiple:!1,selectAlone:!0,tpl:e.tpl},on:{"node-click":function(t){return e.handleClick(t)},"async-load-nodes":e.asyncLoad}})],1)],1)},J=[],Q=(i("28a5"),i("4e1d"));i("1816");function ee(e,t){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=te(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw r}}}}function te(e,t){if(e){if("string"===typeof e)return ie(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ne={name:"FolderSelectorPopup",components:{VTree:Q["VTree"],VSelectTree:Q["VSelectTree"],VuePerfectScrollbar:I.a},data:function(){return{folder_name:"",createFolderPrompt:!1,currentFolderPath:"",popupActive:!1,settings:{maxScrollbarLength:60,wheelSpeed:.3},treeData:[{icon:"FolderIcon",title:"Root",ref:"",expanded:!0,async:!0}]}},watch:{popupActive:function(e){var t=this;e?setTimeout((function(){t.focus()}),1e3):this.reset()}},computed:{scrollbarTag:function(){return this.$store.getters.scrollbarTag},app:function(){var e=this.$store.state.selectedApp;return(e?this.$app(e.projectId):null)||null},storage:function(){return this.app?this.app.storage():null}},methods:{getNodeFromCurrentPath:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,i,n,o,r,a,s,l,c,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.currentFolderPath.slice(0),i=t.replace(/^\/+|\/+$/g,""),""!=i){e.next=5;break}return n=this.treeData[0],e.abrupt("return",n);case 5:if(o=i.split("/"),r=this.treeData[0],0!=r.children.length){e.next=10;break}return e.next=10,this.asyncLoad(r,{no_set:!0});case 10:a=ee(o),e.prev=11,l=regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.value,i=(r.children||[]).find((function(e){return e.title==t})),!i){e.next=7;break}r.expanded=!0,r=i,e.next=17;break;case 7:return e.next=9,d.asyncLoad(r,{no_set:!0});case 9:if(i=(r.children||[]).find((function(e){return e.title==t})),!i){e.next=15;break}r.expanded=!0,r=i,e.next=17;break;case 15:return r=null,e.abrupt("return","break");case 17:case"end":return e.stop()}}),e)})),a.s();case 14:if((s=a.n()).done){e.next=21;break}return e.delegateYield(l(),"t0",16);case 16:if(c=e.t0,"break"!==c){e.next=19;break}return e.abrupt("break",21);case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e["catch"](11),a.e(e.t1);case 26:return e.prev=26,a.f(),e.finish(26);case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,this,[[11,23,26,29]])})));function t(){return e.apply(this,arguments)}return t}(),createFolder:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.folder_name&&!/\//.test(this.folder_name)){e.next=4;break}this.$vs.notify({title:"Folder Name must be not empty or contain '/'!",text:"Please Fix your folder name.",color:"danger",iconPack:"feather",icon:"icon-alert-circle",position:"bottom-center"}),e.next=9;break;case 4:return e.next=6,this.getNodeFromCurrentPath();case 6:t=e.sent,i={icon:"FolderIcon",title:"".concat(this.folder_name),ref:this.currentFolderPath+"/".concat(this.folder_name),expanded:!1,async:!0},this.$refs.tree.addNode(t,i);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),tpl:function(){for(var e=this,t=this.$createElement,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var r=n[0],a=(n[2],n[3],this.currentFolderPath),s=r.ref==a?"node-title node-selected":"node-title";return r.searched&&(s+=" node-searched"),t("span",[t("feather-icon",{attrs:{icon:"FolderIcon",svgClasses:"h-5 w-5"},class:"mr-1",style:"top:3px"}),t("span",{class:s,domProps:{innerHTML:r.title},on:{click:function(){e.currentFolderPath=r.ref,e.$refs.tree.nodeSelected(r)}}})])},handleClick:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.asyncLoad(t);case 2:this.$set(t,"expanded",!0),t.expanded=!0,this.currentFolderPath=t.ref,this.$emit("input",this.currentFolderPath);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),asyncLoad:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.checked,n=void 0!==i&&i,this.$set(t,"loading",!0),e.next=4,this.storage.ref(t.ref).listAll().then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.prefixes.map((function(e){return{title:e.name,ref:e.fullPath,icon:"FolderIcon",expanded:!1,async:!0,selected:!1}})),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:o=e.sent,this.$set(t,"children",o),this.$set(t,"loading",!1),n&&this.$refs.tree.childCheckedHandle(t,n);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),focus:function(){},open:function(){this.popupActive=!0},close:function(){this.popupActive=!1},toggle:function(){this.popupActive=!this.popupActive},reset:function(){}}},oe=ne,re=Object(p["a"])(oe,H,J,!1,null,null,null),ae=re.exports,se={name:"PathSelector",components:{FolderSelectorPopup:ae},data:function(){return{path:""}},methods:{handle:function(){this.$refs.fsPopup.open()}}},le=se,ce=Object(p["a"])(le,G,X,!1,null,null,null),de=ce.exports,ue={name:"ImageFieldProperties",components:{PathSelector:de},mounted:function(){this.$emit("setPath","")}},fe=ue,pe=Object(p["a"])(fe,$,Z,!1,null,null,null),me=pe.exports,he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-col"},[i("div",{staticClass:"flex w-full"},[e._m(0),i("div",{staticClass:"flex-1 right-prop"},[i("PathSelector",{on:{"set-path":function(t){return e.$emit("setPath",t)}}})],1)]),i("div",{staticClass:"flex w-full"},[e._m(1),i("div",{staticClass:"flex-1 right-prop"},[i("v-select",{staticClass:"m-2",attrs:{multiple:"",closeOnSelect:!1,options:e.options,dir:e.$vs.rtl?"rtl":"ltr"},on:{input:function(t){return e.$emit("setValidType",t)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),i("br")],1)])])},ve=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2 left-prop"},[i("p",[i("b",[e._v("Folder Path")])]),i("span",{staticClass:"text-sm"},[e._v("Path where you save the file.")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2 left-prop left-prop-last"},[i("p",[i("b",[e._v("File Type")])]),i("span",{staticClass:"text-sm"},[e._v("Filter type of file to upload.")])])}],Ie={name:"FileFieldProperties",components:{PathSelector:de,vSelect:W.a},mounted:function(){this.$emit("setValidType",[]),this.$emit("setPath","")},data:function(){return{selected:[],options:["ppt","pptx","pdf","doc","docx","xlsx","xls","jpg","jpeg","gif","png","svg","bmp","all"]}}},ye=Ie,be=(i("9240"),Object(p["a"])(ye,he,ve,!1,null,null,null)),ge=be.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-col"},[i("div",{staticClass:"flex w-full"},[e._m(0),i("div",{staticClass:"flex-1 right-prop"},[i("PathSelector",{on:{"set-path":function(t){return e.$emit("setPath",t)}}})],1)]),i("div",{staticClass:"flex w-full"},[e._m(1),i("div",{staticClass:"flex-1 right-prop"},[i("v-select",{staticClass:"m-2",attrs:{multiple:"",closeOnSelect:!1,options:e.options,dir:e.$vs.rtl?"rtl":"ltr"},on:{input:function(t){return e.$emit("setValidType",t)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),i("br")],1)]),i("div",{staticClass:"flex w-full"},[e._m(2),i("div",{staticClass:"flex-1 right-prop"},[i("vs-input",{staticClass:"p-4 m-auto w-full",attrs:{type:"number",min:"0"},on:{input:function(t){e.$emit("setMax",Number(t))}},model:{value:e.maxItem,callback:function(t){e.maxItem=t},expression:"maxItem"}})],1)])])},Ce=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2 left-prop"},[i("p",[i("b",[e._v("Folder Path")])]),i("span",{staticClass:"text-sm"},[e._v("Path where you save the file.")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2 left-prop left-prop-last"},[i("p",[i("b",[e._v("File Type")])]),i("span",{staticClass:"text-sm"},[e._v("Filter type of file to upload.")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2 left-prop left-prop-last"},[i("p",[i("b",[e._v("Max Item")])]),i("span",{staticClass:"text-sm"},[e._v("Set an optional maximum Item count for the field.")])])}],_e={name:"FileListFieldProperties",components:{PathSelector:de,vSelect:W.a},mounted:function(){this.$emit("setMax",null),this.$emit("setValidType",[]),this.$emit("setPath","")},data:function(){return{maxItem:null,selected:[],options:["ppt","pptx","pdf","doc","docx","xlsx","xls","jpg","jpeg","gif","png","svg","bmp","all"]}}},we=_e,ke=(i("e1bc"),Object(p["a"])(we,xe,Ce,!1,null,null,null)),Ae=ke.exports,Fe={components:{FieldButton:h,VuePerfectScrollbar:I.a,SelectFieldType:_,AjvInput:k["a"],EnumFieldProperties:R,RefFieldProperties:K,ImageFieldProperties:me,FileFieldProperties:ge,FileListFieldProperties:Ae},name:"CreateFieldSidebar",watch:{"field_def.schema.format":function(e){this.properties&&this.properties.default&&(this.properties.default.format=e)}},data:function(){return{isLoading:!1,active:!1,field_def:{title:"",description:"",api_label:"",type:"",hidden_field:!1,schema:{}},errors:[],field_def_schema:{properties:{title:{type:"string",isNotEmpty:!0,errorMessage:{isNotEmpty:"Title is required."}},api_label:{type:"string",isNotEmpty:!0,errorMessage:{isNotEmpty:"Api label is required."}},description:{type:"string"},type:{type:"string",isNotEmpty:!0,errorMessage:{isNotEmpty:"type is required."}},schema:{}}},properties:{},settings:{maxScrollbarLength:60,wheelSpeed:.6}}},methods:{focus:function(){this.$el.querySelector("input[name=flabel]").focus()},setMode:function(e,t){"update"==e?(this.properties=JSON.parse(JSON.stringify(w[t.type].properties)),this.field_def=t):this.reset()},setType:function(e){var t=JSON.parse(JSON.stringify(w[e].properties));this.properties=t,this.field_def.type=e,this.field_def.schema={},this.properties.type&&this.properties.type.constant&&(this.field_def.schema.type=this.properties.type.constant)},setApiLabel:function(e){this.field_def.api_label=e.replace(/\s/g,"_").toLowerCase()},submitData:function(){var e=["createdAt","updatedAt","archived"];if(e.includes(this.field_def.api_label))this.$vs.notify({position:"bottom-center",time:2500,title:"Api Label is Reserved !",text:"please change your api label field.",iconPack:"feather",icon:"icon-alert-circle",color:"warning"});else{this.field_def_schema.properties.schema={properties:this.properties};var t=this.$ajv.compile(this.field_def_schema),i=t(this.field_def);if(i)this.$emit("addField",this.field_def),this.reset(),this.isSidebarActiveLocal=!1;else{var n=t.errors[0];this.$vs.notify({position:"bottom-center",time:2500,title:n.dataPath,text:n.message,iconPack:"feather",icon:"icon-alert-circle",color:"warning"}),console.log(t.errors),this.errors=t.errors}}},reset:function(){this.isLoading=!1,this.field_def={title:"",description:"",api_label:"",type:"",schema:{}},this.properties={},this.errors=[]}},computed:{options:function(){var e=this.field_def.schema.definitions;return Array.isArray(e)&&1===e.length&&"object"===e[0].type?e[0].schema.definitions.filter((function(e){return["int","decimal","bool","dropdown","text","url"].includes(e.type)})).map((function(e){return e.api_label})):[]},scrollbarTag:function(){return this.$store.getters.scrollbarTag},isSidebarActiveLocal:{get:function(){return this.active},set:function(e){this.active=e,e?setTimeout(this.focus,800):(this.$emit("closeSidebar"),this.reset())}}}},Se=Fe,Pe=(i("6015"),Object(p["a"])(Se,s,l,!1,null,"1f7c574d",null)),Le=Pe.exports,Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("vs-popup",{attrs:{title:"Icon Picker",active:e.popupActive},on:{"update:active":function(t){e.popupActive=t}}},[i("vs-input",{directives:[{name:"shortkey",rawName:"v-shortkey.focus",value:["alt","f"],expression:"['alt', 'f']",modifiers:{focus:!0}}],attrs:{name:"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("div",{staticClass:"flex w-full flex-wrap"},e._l(e.listIconFiltered,(function(t){return i("vs-button",{key:t,staticClass:"m-1",attrs:{type:"border",color:"dark"},on:{click:function(i){return e.setIcon(t)}}},[i("feather-icon",{attrs:{icon:t}})],1)})),1)],1)},Re=[],De=(i("4917"),i("386d"),{name:"IconPickerPopup",computed:{listIconFiltered:function(){var e=this;return this.iconList.filter((function(t){return""==e.search||t.toLowerCase().match(e.search.toLowerCase())}))}},data:function(){return{search:"",popupActive:!1,iconList:["ActivityIcon","AirplayIcon","AlertCircleIcon","AlertOctagonIcon","AlertTriangleIcon","AlignCenterIcon","AlignJustifyIcon","AlignLeftIcon","AlignRightIcon","AnchorIcon","ApertureIcon","ArchiveIcon","ArrowDownIcon","ArrowDownCircleIcon","ArrowDownLeftIcon","ArrowDownRightIcon","ArrowLeftIcon","ArrowLeftCircleIcon","ArrowRightIcon","ArrowRightCircleIcon","ArrowUpIcon","ArrowUpCircleIcon","ArrowUpLeftIcon","ArrowUpRightIcon","AtSignIcon","AwardIcon","BarChartIcon","BarChart2Icon","BatteryIcon","BatteryChargingIcon","BellIcon","BellOffIcon","BluetoothIcon","BoldIcon","BookIcon","BookOpenIcon","BookmarkIcon","BoxIcon","BriefcaseIcon","CalendarIcon","CameraIcon","CameraOffIcon","CastIcon","CheckIcon","CheckCircleIcon","CheckSquareIcon","ChevronDownIcon","ChevronLeftIcon","ChevronRightIcon","ChevronUpIcon","ChevronsDownIcon","ChevronsLeftIcon","ChevronsRightIcon","ChevronsUpIcon","ChromeIcon","CircleIcon","ClipboardIcon","ClockIcon","CloudIcon","CloudDrizzleIcon","CloudLightningIcon","CloudOffIcon","CloudRainIcon","CloudSnowIcon","CodeIcon","CodepenIcon","CodesandboxIcon","CoffeeIcon","ColumnsIcon","CommandIcon","CompassIcon","CopyIcon","CornerDownLeftIcon","CornerDownRightIcon","CornerLeftDownIcon","CornerLeftUpIcon","CornerRightDownIcon","CornerRightUpIcon","CornerUpLeftIcon","CornerUpRightIcon","CpuIcon","CreditCardIcon","CropIcon","CrosshairIcon","DatabaseIcon","DeleteIcon","DiscIcon","DivideIcon","DivideCircleIcon","DivideSquareIcon","DollarSignIcon","DownloadIcon","DownloadCloudIcon","DribbbleIcon","DropletIcon","EditIcon","Edit2Icon","Edit3Icon","ExternalLinkIcon","EyeIcon","EyeOffIcon","FacebookIcon","FastForwardIcon","FeatherIcon","FigmaIcon","FileIcon","FileMinusIcon","FilePlusIcon","FileTextIcon","FilmIcon","FilterIcon","FlagIcon","FolderIcon","FolderMinusIcon","FolderPlusIcon","FramerIcon","FrownIcon","GiftIcon","GitBranchIcon","GitCommitIcon","GitMergeIcon","GitPullRequestIcon","GithubIcon","GitlabIcon","GlobeIcon","GridIcon","HardDriveIcon","HashIcon","HeadphonesIcon","HeartIcon","HelpCircleIcon","HexagonIcon","HomeIcon","ImageIcon","InboxIcon","InfoIcon","InstagramIcon","ItalicIcon","KeyIcon","LayersIcon","LayoutIcon","LifeBuoyIcon","LinkIcon","Link2Icon","LinkedinIcon","ListIcon","LoaderIcon","LockIcon","LogInIcon","LogOutIcon","MailIcon","MapIcon","MapPinIcon","MaximizeIcon","Maximize2Icon","MehIcon","MenuIcon","MessageCircleIcon","MessageSquareIcon","MicIcon","MicOffIcon","MinimizeIcon","Minimize2Icon","MinusIcon","MinusCircleIcon","MinusSquareIcon","MonitorIcon","MoonIcon","MoreHorizontalIcon","MoreVerticalIcon","MousePointerIcon","MoveIcon","MusicIcon","NavigationIcon","Navigation2Icon","OctagonIcon","PackageIcon","PaperclipIcon","PauseIcon","PauseCircleIcon","PenToolIcon","PercentIcon","PhoneIcon","PhoneCallIcon","PhoneForwardedIcon","PhoneIncomingIcon","PhoneMissedIcon","PhoneOffIcon","PhoneOutgoingIcon","PieChartIcon","PlayIcon","PlayCircleIcon","PlusIcon","PlusCircleIcon","PlusSquareIcon","PocketIcon","PowerIcon","PrinterIcon","RadioIcon","RefreshCcwIcon","RefreshCwIcon","RepeatIcon","RewindIcon","RotateCcwIcon","RotateCwIcon","RssIcon","SaveIcon","ScissorsIcon","SearchIcon","SendIcon","ServerIcon","SettingsIcon","ShareIcon","Share2Icon","ShieldIcon","ShieldOffIcon","ShoppingBagIcon","ShoppingCartIcon","ShuffleIcon","SidebarIcon","SkipBackIcon","SkipForwardIcon","SlackIcon","SlashIcon","SlidersIcon","SmartphoneIcon","SmileIcon","SpeakerIcon","SquareIcon","StarIcon","StopCircleIcon","SunIcon","SunriseIcon","SunsetIcon","TabletIcon","TagIcon","TargetIcon","TerminalIcon","ThermometerIcon","ThumbsDownIcon","ThumbsUpIcon","ToggleLeftIcon","ToggleRightIcon","ToolIcon","TrashIcon","Trash2Icon","TrelloIcon","TrendingDownIcon","TrendingUpIcon","TriangleIcon","TruckIcon","TvIcon","TwitchIcon","TwitterIcon","TypeIcon","UmbrellaIcon","UnderlineIcon","UnlockIcon","UploadIcon","UploadCloudIcon","UserIcon","UserCheckIcon","UserMinusIcon","UserPlusIcon","UserXIcon","UsersIcon","VideoIcon","VideoOffIcon","VoicemailIcon","VolumeIcon","Volume1Icon","Volume2Icon","VolumeXIcon","WatchIcon","WifiIcon","WifiOffIcon","WindIcon","XIcon","XCircleIcon","XOctagonIcon","XSquareIcon","YoutubeIcon","ZapIcon","ZapOffIcon","ZoomInIcon","ZoomOutIcon"]}},watch:{popupActive:function(e){var t=this;e?setTimeout((function(){t.focus()}),1e3):this.reset()}},methods:{setIcon:function(e){this.$emit("setIcon",e),this.close()},focus:function(){this.$el.querySelector("input[name=search]").focus()},open:function(){this.popupActive=!0},close:function(){this.popupActive=!1},toggle:function(){this.popupActive=!this.popupActive},reset:function(){}}}),Te=De,Oe=Object(p["a"])(Te,Me,Re,!1,null,null,null),je=Oe.exports,qe=i("e836"),Ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.definitions.length>0?i("draggable",{staticClass:"list-group",attrs:{tag:"ul",list:e.definitions,handle:".handle"}},[i("transition-group",e._l(e.definitions,(function(t,n){return i("div",{key:t.api_label,staticClass:"flex my-3"},[i("feather-icon",{staticClass:"hover:text-danger handle",attrs:{icon:"MenuIcon",svgClasses:"h-4 w-4 cursor-pointer text-danger"}}),i("vx-card",{staticClass:"flex-1 pb-5",attrs:{title:t.title+" ("+e.$options.filters.title(t.type)+")",subtitle:t.description}},[i("template",{slot:"actions"},[i("div",{staticClass:"flex"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hidden_field,expression:"definition.hidden_field"}],staticClass:"mt-1 mx-2 text-sm",staticStyle:{transform:"scale(1)"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hidden_field)?e._i(t.hidden_field,null)>-1:t.hidden_field},on:{change:function(i){var n=t.hidden_field,o=i.target,r=!!o.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);o.checked?s<0&&e.$set(t,"hidden_field",n.concat([a])):s>-1&&e.$set(t,"hidden_field",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(t,"hidden_field",r)}}}),e._v("Hidden\n            "),i("feather-icon",{staticClass:"ml-4",attrs:{icon:"EditIcon"},on:{click:function(i){return e.$emit("edit",{definition:t,path:e.path})}}}),i("feather-icon",{staticClass:"ml-4",attrs:{icon:"TrashIcon"},on:{click:function(t){return e.$emit("delete",{index:n,path:e.path})}}})],1)]),["array","object"].includes(t.type)&&(null==t.schema.definitions||Array.isArray(t.schema.definitions))?i("vs-button",{staticClass:"m-3",attrs:{type:"border"},on:{click:function(i){e.$emit("add-field",{index:n,path:e.path.concat([t.api_label])})}}},[e._v("\n          Add Field\n        ")]):e._e(),["array","object"].includes(t.type)?i("definition-field",{attrs:{path:e.path.concat([t.api_label]),definitions:Array.isArray(t.schema.definitions)?t.schema.definitions:null==t.schema.definitions?[]:[t.schema.definitions]},on:{edit:function(t){return e.$emit("edit",t)},delete:function(t){return e.$emit("delete",t)},"add-field":function(t){return e.$emit("add-field",t)}}}):e._e()],2)],1)})),0)],1):i("div",{staticClass:"flex w-full justify-center"},[i("center",[i("h3",[e._v("\n      No Field Available.\n    ")])])],1)},Ve=[],Ue=i("93ad"),ze=i("b76a"),We=i.n(ze),Be={components:{draggable:We.a},name:"DefinitionField",mounted:function(){var e=this;Ue["a"].$on("force-refresh",(function(){e.$forceUpdate()}))},props:{definitions:{type:Array,required:!0,default:function(){return[]}},path:{type:Array,required:!0,default:function(){return[]}}}},Ne=Be,Ye=Object(p["a"])(Ne,Ee,Ve,!1,null,null,null),Ke=Ye.exports;function $e(e,t){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=Ze(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw r}}}}function Ze(e,t){if(e){if("string"===typeof e)return Ge(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Xe={name:"CreateContentModel",components:{CreateFieldSidebar:Le,AjvInput:k["a"],IconPickerPopup:je,AvatarIcon:U,DefinitionField:Ke},computed:{app:function(){var e=this.$store.state.selectedApp;return this.$app(e.projectId)||null}},data:function(){return{path:[],index:-1,id:null,mode:"create",field_mode:"create",algolia_index:!1,definitions:[],title:"",icon:"KeyIcon",reserved_collection:["iris_content_model","iris_role_permission","iris_user","iris_","iris_global","iris_plugin"]}},mounted:function(){if(this.focus(),"ContentModelUpdate"==this.$route.name){this.mode="update";var e=JSON.parse(JSON.stringify(this.$store.state.content_model.updateData));this.definitions=e.definitions,this.title=e.title,this.icon=e.icon,this.id=e.collection_name}},methods:{focus:function(){this.$el.querySelector("input[name=title]").focus()},setIcon:function(e){this.icon=e},editDefinition:function(e){var t=e.definition,i=e.path;this.$refs.cSidebar.setMode("update",t),this.path=i,this.field_mode="update",this.$refs.cSidebar.isSidebarActiveLocal=!0},deleteDefinition:function(e){var t=e.index,i=e.path;this.index=t,this.path=i;var n=this.definitions;try{var o,r=$e(this.path);try{var a=function(){var e=o.value;if(!Array.isArray(n))return n=n[t].schema.definitions,"continue";var t=n.findIndex((function(t){return t.api_label==e}));if(-1==t)throw"Unknown Path";n="array"!=n[t].type||null!=n[t].schema.definitions&&Array.isArray(n[t].schema.definitions)?n[t].schema.definitions:n[t].schema};for(r.s();!(o=r.n()).done;)a()}catch(s){r.e(s)}finally{r.f()}}catch(l){return this.path=[],this.index=-1,this.field_mode="create",void this.$vs.notify({title:l,color:"danger",position:"bottom-center"})}Array.isArray(n)?n.splice(this.index,1):n.definitions=null,this.path=[],this.index=-1,this.field_mode="create",Ue["a"].$emit("force-refresh")},createContentModelCollectionName:function(e){return"iris_"+e.replace(/\s/g,"_").toLowerCase()},definitionDive:function(e){var t,i=$e(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;if("array"===n.type){var o=n.schema.definitions;if(Array.isArray(o))if(1==o.length)this.definitionDive(o),n.schema.definitions=o[0];else{if(!(n.definitions.length>1))throw"array type must have at least 1 definitions.";this.definitionDive(o)}else if(null===o||void 0===o)throw"array type must have at least 1 definitions."}}}catch(r){i.e(r)}finally{i.f()}},createContentModel:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.app){e.next=21;break}if(t=this.createContentModelCollectionName(this.title),"create"!=this.mode||!this.reserved_collection.includes(t)){e.next=5;break}return this.$vs.notify({title:"Content Model Name is Reserved for System!",text:"Please use other name.",color:"warning",iconPack:"feather",icon:"icon-alert-circle",position:"bottom-center"}),e.abrupt("return");case 5:i={title:this.title,collection_name:t,definitions:this.definitions,icon:this.icon,row_count:0,archived:!1,algolia_index:this.algolia_index?t:""},e.prev=6,this.definitionDive(i.definitions),e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](6),this.$vs.notify({position:"bottom-center",time:2500,title:"Error",text:e.t0,iconPack:"feather",icon:"icon-alert-circle",color:"danger"}),e.abrupt("return");case 14:return"update"==this.mode&&(i.collection_name=this.id,delete i.row_count,delete i.archived,delete i.algolia_index),e.next=17,this.$store.dispatch("create"==this.mode?"content_model/createContentModel":"content_model/updateContentModel",i).catch(qe["a"].bind(this));case 17:n=e.sent,"object"==Object(r["a"])(n)&&n.color&&this.$vs.notify(n),e.next=22;break;case 21:this.$notify({position:"bottom-center",color:"danger",text:"please select your app first!",title:"App not Selected."});case 22:case"end":return e.stop()}}),e,this,[[6,10]])})));function t(){return e.apply(this,arguments)}return t}(),addField:function(e){for(var t in e.schema)e.schema[t]||"default"==t||delete e.schema[t];if(0==this.path.length){var i=this.definitions.findIndex((function(t){return t.api_label==e.api_label}));-1!=i?"update"==this.field_mode?this.definitions.splice(i,1,e):this.$vs.notify({title:"api label must unique",color:"danger",position:"bottom-center"}):this.definitions.push(e)}else{var n=this.definitions,o=!1;try{var r,a=$e(this.path);try{var s=function(){var e=r.value;if(!Array.isArray(n))return n=n.schema.definitions,"continue";var t=n.findIndex((function(t){return t.api_label==e}));if(-1==t)throw"Unknown Path";"array"==n[t].type&&null==n[t].schema.definitions?(o=!0,n=n[t].schema):n=n[t].schema.definitions};for(a.s();!(r=a.n()).done;)s()}catch(d){a.e(d)}finally{a.f()}}catch(u){return this.path=[],this.index=-1,this.field_mode="create",void this.$vs.notify({title:u,color:"danger",position:"bottom-center"})}if(n instanceof Array)if(o)n.definitions=e;else{var l=n.findIndex((function(t){return t.api_label==e.api_label}));-1!=l?"update"==this.field_mode?n.splice(l,1,e):this.$vs.notify({title:"api label must unique",color:"danger",position:"bottom-center"}):n.push(e)}else switch(e.type){case"array":break;case"object":n.definitions=[e];break;default:if(Array.isArray(n.definitions)){var c=n.definitions.find((function(t){return t.api_label==e.api_label}));c?this.$vs.notify({title:"api label must unique",color:"danger",position:"bottom-center"}):n.definitions.push(e)}else n.definitions=e;break}this.path=[],this.index=-1,this.field_mode="create"}this.$vs.notify({position:"bottom-center",time:2500,title:"Field ".concat(this.field_mode,"d"),color:"success"}),Ue["a"].$emit("force-refresh")}}},He=Xe,Je=Object(p["a"])(He,n,o,!1,null,null,null);t["default"]=Je.exports},cc72:function(e,t,i){},e1bc:function(e,t,i){"use strict";i("e2d8")},e2d8:function(e,t,i){},ffd0:function(e,t,i){}}]);
//# sourceMappingURL=chunk-cf7412bc.b389e4e8.js.map