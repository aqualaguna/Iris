{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./src/views/pages/UserPage/UpdateUser.vue?53be","webpack:///./src/views/pages/UserPage/ChangePassword.vue?4b0a","webpack:///src/views/pages/UserPage/ChangePassword.vue","webpack:///./src/views/pages/UserPage/ChangePassword.vue?d24d","webpack:///./src/views/pages/UserPage/ChangePassword.vue","webpack:///src/views/pages/UserPage/UpdateUser.vue","webpack:///./src/views/pages/UserPage/UpdateUser.vue?5f51","webpack:///./src/views/pages/UserPage/UpdateUser.vue","webpack:///./node_modules/core-js/modules/es6.function.bind.js","webpack:///./src/helper/handleFirestoreReject.js","webpack:///./node_modules/core-js/modules/_bind.js"],"names":["module","exports","fn","args","that","un","undefined","length","call","apply","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","model","value","user","callback","$$v","$set","expression","email","isSuper","roleOptions","$vs","rtl","on","saveUser","$event","id","currentUserUid","_e","staticRenderFns","new_password","confirm_new_password","changePassword","data","methods","notify","position","title","text","color","iconPack","icon","firebaseUser","computed","app","config","$app","projectId","auth","currentUser","component","components","ChangePasssword","vSelect","name","phone","roles","role_id","$store","state","updateData","pl","doc","update","then","map","label","t","uid","mounted","JSON","parse","stringify","$can","$router","push","col","$export","P","bind","handleFirestoreReject","e","code","message","console","log","aFunction","isObject","invoke","arraySlice","slice","factories","construct","F","len","n","i","Function","join","partArgs","arguments","bound","concat","prototype"],"mappings":"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","file":"js/chunk-659dbaf6.c1bfddcd.js","sourcesContent":["// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vx-card',{attrs:{\"title\":\"Profile\",\"no-shadow\":\"\"}},[_c('div',{staticClass:\"vx-row mb-6\"},[_c('div',{staticClass:\"vx-col sm:w-1/3 w-full\"},[_c('span',[_vm._v(\"Name\")])]),_c('div',{staticClass:\"vx-col sm:w-2/3 w-full\"},[_c('vs-input',{staticClass:\"w-full\",model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1)]),_c('div',{staticClass:\"vx-row mb-6\"},[_c('div',{staticClass:\"vx-col sm:w-1/3 w-full\"},[_c('span',[_vm._v(\"Email\")])]),_c('div',{staticClass:\"vx-col sm:w-2/3 w-full\"},[_c('vs-input',{staticClass:\"w-full\",attrs:{\"type\":\"email\",\"disabled\":\"\",\"value\":_vm.user.email}})],1)]),_c('div',{staticClass:\"vx-row mb-6\"},[_c('div',{staticClass:\"vx-col sm:w-1/3 w-full\"},[_c('span',[_vm._v(\"Phone Number\")])]),_c('div',{staticClass:\"vx-col sm:w-2/3 w-full\"},[_c('vs-input',{staticClass:\"w-full\",model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}})],1)]),_c('div',{staticClass:\"vx-row mb-6\"},[_c('div',{staticClass:\"vx-col sm:w-1/3 w-full\"},[_c('span',[_vm._v(\"Role\")])]),_c('div',{staticClass:\"vx-col sm:w-2/3 w-full\"},[_c('vSelect',{staticClass:\"bg-white m-3\",attrs:{\"disabled\":_vm.isSuper,\"closeOnSelect\":false,\"options\":_vm.roleOptions,\"dir\":_vm.$vs.rtl ? 'rtl' : 'ltr'},model:{value:(_vm.user.role_id),callback:function ($$v) {_vm.$set(_vm.user, \"role_id\", $$v)},expression:\"user.role_id\"}})],1)]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col sm:w-2/3 w-full ml-auto\"},[_c('vs-button',{staticClass:\"float-right mr-3 m-2\",on:{\"click\":_vm.saveUser,\"\":function($event){}}},[_vm._v(\"Submit\")])],1)])]),(this.user.id == _vm.currentUserUid)?_c('ChangePasssword'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vx-card',{attrs:{\"title\":\"Change Password\",\"no-shadow\":\"\"}},[_c('vs-input',{staticClass:\"w-full mb-base\",attrs:{\"type\":\"password\",\"label-placeholder\":\"New Password\"},model:{value:(_vm.email.new_password),callback:function ($$v) {_vm.$set(_vm.email, \"new_password\", $$v)},expression:\"email.new_password\"}}),_c('vs-input',{staticClass:\"w-full mb-base\",attrs:{\"type\":\"password\",\"label-placeholder\":\"Confirm Password\"},model:{value:(_vm.email.confirm_new_password),callback:function ($$v) {_vm.$set(_vm.email, \"confirm_new_password\", $$v)},expression:\"email.confirm_new_password\"}}),_c('div',{staticClass:\"flex flex-wrap items-center justify-end\"},[_c('vs-button',{staticClass:\"ml-auto mt-2\",attrs:{\"type\":\"border\",\"color\":\"warning\"},on:{\"click\":function($event){_vm.email = {\n            new_password: '',\n            confirm_new_password: '',\n          }}}},[_vm._v(\"Reset\")]),_c('vs-button',{staticClass:\"ml-4 mt-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.changePassword}},[_vm._v(\"Save Changes\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <vx-card title=\"Change Password\" no-shadow>\n      <vs-input\n        class=\"w-full mb-base\"\n        type=\"password\"\n        label-placeholder=\"New Password\"\n        v-model=\"email.new_password\"\n      />\n      <vs-input\n        class=\"w-full mb-base\"\n        type=\"password\"\n        label-placeholder=\"Confirm Password\"\n        v-model=\"email.confirm_new_password\"\n      />\n\n      <!-- Save & Reset Button -->\n      <div class=\"flex flex-wrap items-center justify-end\">\n        <vs-button\n          type=\"border\"\n          color=\"warning\"\n          class=\"ml-auto mt-2\"\n          @click=\"\n            email = {\n              new_password: '',\n              confirm_new_password: '',\n            }\n          \"\n          >Reset</vs-button\n        >\n        <vs-button @click=\"changePassword\" class=\"ml-4 mt-2\" color=\"primary\"\n          >Save Changes</vs-button\n        >\n      </div>\n    </vx-card>\n  </div>\n</template>\n\n<script>\nimport handleReject from \"@/helper/handleFirestoreReject\";\nexport default {\n  data() {\n    return {\n      email: {\n        new_password: \"\",\n        confirm_new_password: \"\",\n      },\n\n      user: {},\n    };\n  },\n  methods: {\n    changePassword() {\n      if (this.email.new_password != this.email.confirm_new_password) {\n        this.$vs.notify({\n          position: \"bottom-center\",\n          title: \"password does not match\",\n          text: \"check your input again.\",\n          color: \"warning\",\n          iconPack: \"feather\",\n          icon: \"icon-alert-circle\",\n        });\n      } else {\n        this.firebaseUser\n          .updatePassword(this.email.new_password)\n          .then(() => {\n            console.log(\"test\");\n            this.$vs.notify({\n              position: \"bottom-center\",\n              title: \"password Updated!\",\n              text:\n                \"yout password has been updated. please remember your new password.\",\n              color: \"success\",\n              iconPack: \"feather\",\n              icon: \"icon-check\",\n            });\n          })\n          .catch(handleReject.bind(this));\n      }\n    },\n  },\n  computed: {\n    app() {\n      let config = this.$store.state.selectedApp;\n      return (config ? this.$app(config.projectId) : null) || null;\n    },\n    firebaseUser() {\n      return this.app.auth().currentUser;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=3394d2b4&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <vx-card title=\"Profile\" no-shadow>\n      <div class=\"vx-row mb-6\">\n        <div class=\"vx-col sm:w-1/3 w-full\">\n          <span>Name</span>\n        </div>\n        <div class=\"vx-col sm:w-2/3 w-full\">\n          <vs-input class=\"w-full\" v-model=\"user.name\" />\n        </div>\n      </div>\n      <div class=\"vx-row mb-6\">\n        <div class=\"vx-col sm:w-1/3 w-full\">\n          <span>Email</span>\n        </div>\n        <div class=\"vx-col sm:w-2/3 w-full\">\n          <vs-input class=\"w-full\" type=\"email\" disabled :value=\"user.email\" />\n        </div>\n      </div>\n      <div class=\"vx-row mb-6\">\n        <div class=\"vx-col sm:w-1/3 w-full\">\n          <span>Phone Number</span>\n        </div>\n        <div class=\"vx-col sm:w-2/3 w-full\">\n          <vs-input class=\"w-full\" v-model=\"user.phone\" />\n        </div>\n      </div>\n      <div class=\"vx-row mb-6\">\n        <div class=\"vx-col sm:w-1/3 w-full\">\n          <span>Role</span>\n        </div>\n        <div class=\"vx-col sm:w-2/3 w-full\">\n          <vSelect\n            :disabled=\"isSuper\"\n            :closeOnSelect=\"false\"\n            class=\"bg-white m-3\"\n            v-model=\"user.role_id\"\n            :options=\"roleOptions\"\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\n          />\n        </div>\n      </div>\n      <div class=\"vx-row\">\n        <div class=\"vx-col sm:w-2/3 w-full ml-auto\">\n          <vs-button @click=\"saveUser\" class=\"float-right mr-3 m-2\" @>Submit</vs-button>\n        </div>\n      </div>\n    </vx-card>\n    <ChangePasssword v-if=\"this.user.id == currentUserUid\" />\n  </div>\n</template>\n\n<script>\nimport ChangePasssword from \"./ChangePassword\";\nimport vSelect from \"vue-select\";\nimport handleFirestoreReject from \"@/helper/handleFirestoreReject\";\n\nexport default {\n  components: {\n    ChangePasssword,\n    vSelect,\n  },\n  name: \"UpdateUser\",\n  data() {\n    return {\n      user: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n      },\n      roles: [],\n      isSuper: false,\n    };\n  },\n  methods: {\n    saveUser() {\n      let doc = this.app.firestore().collection('iris_user').doc(this.currentUserUid);\n      let pl = {\n        email: this.user.email,\n        name: this.user.name,\n      }\n      if (this.user.role_id.value != this.$store.state.user.updateData.role_id) {\n        pl.role_id = this.user.role_id.value;\n      }\n      doc.update(pl).then(() => {\n        this.$vs.notify({\n          position: \"bottom-center\",\n          title: \"User Profile Updated!\",\n          color: \"success\",\n          iconPack: \"feather\",\n        });\n        this.$router.back();\n      }).catch(handleFirestoreReject.bind(this));\n    }\n  },\n  computed: {\n    roleOptions() {\n      return this.roles.map((t) => {\n        return {\n          label: t.name,\n          value: t.id,\n        };\n      });\n    },\n    app() {\n      let config = this.$store.state.selectedApp;\n      return (config ? this.$app(config.projectId) : null) || null;\n    },\n    currentUser() {\n      return this.app.auth().currentUser;\n    },\n    currentUserUid() {\n      return this.currentUser ? this.currentUser.uid : \"\";\n    },\n  },\n  mounted() {\n    // check permission\n    this.user = JSON.parse(JSON.stringify(this.$store.state.user.updateData));\n\n    if (!(this.user.id == this.currentUserUid || this.$can(\"user\", \"update\"))) {\n      this.$router.push(\"/pages/error-unauthorized\");\n    }\n    let db = this.app.firestore();\n    let col = db.collection(\"iris_role_permission\");\n    col\n      .get()\n      .then((snapshot) => {\n        this.roles = snapshot.docs.map((doc) => ({\n          ...doc.data(),\n          id: doc.id,\n        }));\n        let role = this.roles.find((t) => t.id == this.user.role_id);\n        if (this.user.role_id == \"super_admin\") {\n          this.isSuper = true;\n        }\n        if (role) {\n          this.user.role_id = {\n            label: role.name,\n            value: role.id,\n          };\n        }\n      })\n      .catch(handleFirestoreReject.bind(this));\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateUser.vue?vue&type=template&id=4cab1f5f&\"\nimport script from \"./UpdateUser.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","export default function handleFirestoreReject(e, callback) {\n  if(e.code) {\n    // firebase error\n    this.$vs.notify({\n      title: e.code,\n      text: e.message,\n      color: \"danger\",\n      iconPack: \"feather\",\n      icon: \"icon-alert-circle\",\n      position: \"bottom-center\",\n    });\n  } else {\n    // another unexpected error due to logic failure.\n    this.$vs.notify({\n      title: 'Unexpected Error!',\n      text: e.message,\n      color: \"danger\",\n      iconPack: \"feather\",\n      icon: \"icon-alert-circle\",\n      position: \"bottom-center\",\n    });\n  }\n  console.log(e);\n  if (typeof callback == \"function\") {\n    callback();\n  }\n}","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n"],"sourceRoot":""}